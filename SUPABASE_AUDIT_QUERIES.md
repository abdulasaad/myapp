# Supabase Structure Audit — Copy/Paste SQL

Run these blocks in the Supabase SQL editor (or psql). They avoid system schemas and focus on your actual app schemas. Share the outputs so I can fully understand your setup.

Notes:
- Targets all non-system schemas (excludes `pg_%` and `information_schema`).
- Safe, read-only inspection queries. No writes or changes.
- Order: high level → details → security.

---

## 1) High-Level Overview

```sql
-- Installed extensions and versions
select e.extname as extension, e.extversion as version, n.nspname as schema
from pg_extension e
join pg_namespace n on n.oid = e.extnamespace
order by 1;
```
* | extension          | version | schema     |
| ------------------ | ------- | ---------- |
| pg_cron            | 1.6     | pg_catalog |
| pg_graphql         | 1.5.11  | graphql    |
| pg_stat_statements | 1.10    | extensions |
| pgcrypto           | 1.3     | extensions |
| plpgsql            | 1.0     | pg_catalog |
| postgis            | 3.3.7   | extensions |
| postgis_topology   | 3.3.7   | topology   |
| supabase_vault     | 0.3.1   | vault      |
| uuid-ossp          | 1.1     | extensions |

```sql
-- Non-system schemas
select n.nspname as schema
from pg_namespace n
where n.nspname not like 'pg_%'
  and n.nspname <> 'information_schema'
order by 1;
```
* | schema              |
| ------------------- |
| auth                |
| cron                |
| extensions          |
| graphql             |
| graphql_public      |
| public              |
| realtime            |
| storage             |
| supabase_migrations |
| topology            |
| vault               |

```sql
-- Tables and views per schema
select t.table_schema, t.table_name, t.table_type
from information_schema.tables t
where t.table_schema not in ('pg_catalog', 'information_schema')
order by t.table_schema, t.table_type, t.table_name;
```
* 
| table_schema        | table_name                   | table_type |
| ------------------- | ---------------------------- | ---------- |
| auth                | audit_log_entries            | BASE TABLE |
| auth                | flow_state                   | BASE TABLE |
| auth                | identities                   | BASE TABLE |
| auth                | instances                    | BASE TABLE |
| auth                | mfa_amr_claims               | BASE TABLE |
| auth                | mfa_challenges               | BASE TABLE |
| auth                | mfa_factors                  | BASE TABLE |
| auth                | one_time_tokens              | BASE TABLE |
| auth                | refresh_tokens               | BASE TABLE |
| auth                | saml_providers               | BASE TABLE |
| auth                | saml_relay_states            | BASE TABLE |
| auth                | schema_migrations            | BASE TABLE |
| auth                | sessions                     | BASE TABLE |
| auth                | sso_domains                  | BASE TABLE |
| auth                | sso_providers                | BASE TABLE |
| auth                | users                        | BASE TABLE |
| cron                | job                          | BASE TABLE |
| cron                | job_run_details              | BASE TABLE |
| extensions          | spatial_ref_sys              | BASE TABLE |
| extensions          | geography_columns            | VIEW       |
| extensions          | geometry_columns             | VIEW       |
| extensions          | pg_stat_statements           | VIEW       |
| extensions          | pg_stat_statements_info      | VIEW       |
| public              | active_agents                | BASE TABLE |
| public              | admin_audit_log              | BASE TABLE |
| public              | admin_users                  | BASE TABLE |
| public              | agent_geofence_assignments   | BASE TABLE |
| public              | agent_location_tracking      | BASE TABLE |
| public              | app_settings                 | BASE TABLE |
| public              | app_versions                 | BASE TABLE |
| public              | audit_log                    | BASE TABLE |
| public              | campaign_agents              | BASE TABLE |
| public              | campaign_daily_participation | BASE TABLE |
| public              | campaign_geofences           | BASE TABLE |
| public              | campaign_settings            | BASE TABLE |
| public              | campaigns                    | BASE TABLE |
| public              | evidence                     | BASE TABLE |
| public              | geofences                    | BASE TABLE |
| public              | global_survey_agents         | BASE TABLE |
| public              | global_survey_clients        | BASE TABLE |
| public              | global_survey_fields         | BASE TABLE |
| public              | global_survey_submissions    | BASE TABLE |
| public              | global_surveys               | BASE TABLE |
| public              | groups                       | BASE TABLE |
| public              | location_history             | BASE TABLE |
| public              | manager_template_access      | BASE TABLE |
| public              | notifications                | BASE TABLE |
| public              | password_reset_logs          | BASE TABLE |
| public              | payments                     | BASE TABLE |
| public              | place_visits                 | BASE TABLE |
| public              | places                       | BASE TABLE |
| public              | profiles                     | BASE TABLE |
| public              | report_exports               | BASE TABLE |
| public              | route_assignments            | BASE TABLE |
| public              | route_places                 | BASE TABLE |
| public              | routes                       | BASE TABLE |
| public              | sessions                     | BASE TABLE |
| public              | survey_fields                | BASE TABLE |
| public              | survey_submissions           | BASE TABLE |
| public              | task_assignments             | BASE TABLE |
| public              | task_dynamic_fields          | BASE TABLE |
| public              | task_templates               | BASE TABLE |
| public              | tasks                        | BASE TABLE |
| public              | template_categories          | BASE TABLE |
| public              | template_fields              | BASE TABLE |
| public              | template_usage_analytics     | BASE TABLE |
| public              | touring_task_assignments     | BASE TABLE |
| public              | touring_task_sessions        | BASE TABLE |
| public              | touring_task_surveys         | BASE TABLE |
| public              | touring_tasks                | BASE TABLE |
| public              | user_groups                  | BASE TABLE |
| public              | location_history_app_format  | VIEW       |
| public              | route_completion_progress    | VIEW       |
| public              | user_status_view             | VIEW       |
| realtime            | messages                     | BASE TABLE |
| realtime            | messages_2025_08_17          | BASE TABLE |
| realtime            | messages_2025_08_18          | BASE TABLE |
| realtime            | messages_2025_08_19          | BASE TABLE |
| realtime            | messages_2025_08_20          | BASE TABLE |
| realtime            | messages_2025_08_21          | BASE TABLE |
| realtime            | messages_2025_08_22          | BASE TABLE |
| realtime            | messages_2025_08_23          | BASE TABLE |
| realtime            | schema_migrations            | BASE TABLE |
| realtime            | subscription                 | BASE TABLE |
| storage             | buckets                      | BASE TABLE |
| storage             | buckets_analytics            | BASE TABLE |
| storage             | migrations                   | BASE TABLE |
| storage             | objects                      | BASE TABLE |
| storage             | prefixes                     | BASE TABLE |
| storage             | s3_multipart_uploads         | BASE TABLE |
| storage             | s3_multipart_uploads_parts   | BASE TABLE |
| supabase_migrations | schema_migrations            | BASE TABLE |
| topology            | layer                        | BASE TABLE |
| topology            | topology                     | BASE TABLE |
| vault               | secrets                      | BASE TABLE |
| vault               | decrypted_secrets            | VIEW       |
```sql
-- Materialized views
select n.nspname as schema, c.relname as matview,
       pg_get_viewdef(c.oid, true) as definition
from pg_class c
join pg_namespace n on n.oid = c.relnamespace
where c.relkind = 'm'
  and n.nspname not in ('pg_catalog', 'information_schema')
order by 1, 2;
```
* 
| schema | matview                   | definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------ | ------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| public | agent_performance_summary |  SELECT p.id AS agent_id,
    p.full_name AS agent_name,
    count(DISTINCT ta.id) AS total_tasks_assigned,
    count(DISTINCT ta.id) FILTER (WHERE ta.status = 'completed'::text) AS tasks_completed,
    count(DISTINCT ca.campaign_id) AS campaigns_participated,
    COALESCE(sum(t.points) FILTER (WHERE ta.status = 'completed'::text), 0::bigint) AS total_points_earned,
    COALESCE(sum(pay.amount), 0::bigint) AS total_paid,
    COALESCE(sum(t.points) FILTER (WHERE ta.status = 'completed'::text), 0::bigint) - COALESCE(sum(pay.amount), 0::bigint) AS outstanding_balance,
    count(DISTINCT ev.id) AS evidence_uploaded,
    p.last_heartbeat,
    p.connection_status
   FROM profiles p
     LEFT JOIN task_assignments ta ON p.id = ta.agent_id
     LEFT JOIN tasks t ON ta.task_id = t.id
     LEFT JOIN campaign_agents ca ON p.id = ca.agent_id
     LEFT JOIN payments pay ON p.id = pay.agent_id
     LEFT JOIN evidence ev ON ta.id = ev.task_assignment_id
  WHERE p.role = 'agent'::text
  GROUP BY p.id, p.full_name, p.last_heartbeat, p.connection_status; |
| public | campaign_summary          |  SELECT c.id AS campaign_id,
    c.name AS campaign_name,
    c.status,
    c.start_date,
    c.end_date,
    count(DISTINCT ca.agent_id) AS assigned_agents,
    count(DISTINCT t.id) AS total_tasks,
    count(DISTINCT ta.id) FILTER (WHERE ta.status = 'completed'::text) AS completed_tasks,
    COALESCE(sum(t.points) FILTER (WHERE ta.status = 'completed'::text), 0::bigint) AS total_points_earned,
    count(DISTINCT ev.id) AS evidence_submitted,
    c.created_at
   FROM campaigns c
     LEFT JOIN campaign_agents ca ON c.id = ca.campaign_id
     LEFT JOIN tasks t ON c.id = t.campaign_id
     LEFT JOIN task_assignments ta ON t.id = ta.task_id
     LEFT JOIN evidence ev ON ta.id = ev.task_assignment_id
  GROUP BY c.id, c.name, c.status, c.start_date, c.end_date, c.created_at;                                                                                                                                                                                                                                                                                 |
```sql
-- Sequences
select sequence_schema as schema, sequence_name, data_type,
       start_value, minimum_value, maximum_value, increment, cycle_option
from information_schema.sequences
where sequence_schema not in ('pg_catalog', 'information_schema')
order by 1, 2;
```
* 
| schema   | sequence_name         | data_type | start_value | minimum_value | maximum_value       | increment | cycle_option |
| -------- | --------------------- | --------- | ----------- | ------------- | ------------------- | --------- | ------------ |
| auth     | refresh_tokens_id_seq | bigint    | 1           | 1             | 9223372036854775807 | 1         | NO           |
| cron     | jobid_seq             | bigint    | 1           | 1             | 9223372036854775807 | 1         | NO           |
| cron     | runid_seq             | bigint    | 1           | 1             | 9223372036854775807 | 1         | NO           |
| graphql  | seq_schema_version    | integer   | 1           | 1             | 2147483647          | 1         | YES          |
| topology | topology_id_seq       | integer   | 1           | 1             | 2147483647          | 1         | NO           |

```sql
-- Enums and labels
select n.nspname as schema, t.typname as enum_name, e.enumlabel as value, e.enumsortorder
from pg_type t
join pg_enum e on e.enumtypid = t.oid
join pg_namespace n on n.oid = t.typnamespace
where n.nspname not in ('pg_catalog','information_schema')
order by 1, 2, 4;
```
* 
| schema   | enum_name             | value                      | enumsortorder |
| -------- | --------------------- | -------------------------- | ------------- |
| auth     | aal_level             | aal1                       | 1             |
| auth     | aal_level             | aal2                       | 2             |
| auth     | aal_level             | aal3                       | 3             |
| auth     | code_challenge_method | s256                       | 1             |
| auth     | code_challenge_method | plain                      | 2             |
| auth     | factor_status         | unverified                 | 1             |
| auth     | factor_status         | verified                   | 2             |
| auth     | factor_type           | totp                       | 1             |
| auth     | factor_type           | webauthn                   | 2             |
| auth     | factor_type           | phone                      | 3             |
| auth     | one_time_token_type   | confirmation_token         | 1             |
| auth     | one_time_token_type   | reauthentication_token     | 2             |
| auth     | one_time_token_type   | recovery_token             | 3             |
| auth     | one_time_token_type   | email_change_token_new     | 4             |
| auth     | one_time_token_type   | email_change_token_current | 5             |
| auth     | one_time_token_type   | phone_change_token         | 6             |
| public   | campaign_status       | pending                    | 1             |
| public   | campaign_status       | active                     | 2             |
| public   | campaign_status       | ongoing                    | 3             |
| public   | campaign_status       | in_progress                | 4             |
| public   | campaign_status       | completed                  | 5             |
| public   | campaign_status       | cancelled                  | 6             |
| public   | campaign_status       | paused                     | 7             |
| public   | evidence_status       | pending                    | 1             |
| public   | evidence_status       | approved                   | 2             |
| public   | evidence_status       | rejected                   | 3             |
| public   | evidence_status       | under_review               | 4             |
| public   | payment_status        | pending                    | 1             |
| public   | payment_status        | paid                       | 2             |
| public   | payment_status        | failed                     | 3             |
| public   | payment_status        | cancelled                  | 4             |
| public   | place_visit_status    | pending                    | 1             |
| public   | place_visit_status    | checked_in                 | 2             |
| public   | place_visit_status    | completed                  | 3             |
| public   | place_visit_status    | cancelled                  | 4             |
| public   | route_status          | active                     | 1             |
| public   | route_status          | inactive                   | 2             |
| public   | route_status          | completed                  | 3             |
| public   | route_status          | cancelled                  | 4             |
| public   | route_status          | assigned                   | 5             |
| public   | route_status          | in_progress                | 6             |
| public   | task_status           | assigned                   | 1             |
| public   | task_status           | in_progress                | 2             |
| public   | task_status           | completed                  | 3             |
| public   | task_status           | cancelled                  | 4             |
| public   | task_status           | pending                    | 5             |
| realtime | action                | INSERT                     | 1             |
| realtime | action                | UPDATE                     | 2             |
| realtime | action                | DELETE                     | 3             |
| realtime | action                | TRUNCATE                   | 4             |
| realtime | action                | ERROR                      | 5             |
| realtime | equality_op           | eq                         | 1             |
| realtime | equality_op           | neq                        | 2             |
| realtime | equality_op           | lt                         | 3             |
| realtime | equality_op           | lte                        | 4             |
| realtime | equality_op           | gt                         | 5             |
| realtime | equality_op           | gte                        | 6             |
| realtime | equality_op           | in                         | 7             |
| storage  | buckettype            | STANDARD                   | 1             |
| storage  | buckettype            | ANALYTICS                  | 2             |

---

## 2) Tables, Columns, and Comments

```sql
-- Table and view comments
select n.nspname as schema,
       c.relname  as relation,
       case c.relkind when 'r' then 'table'
                      when 'p' then 'partitioned table'
                      when 'v' then 'view'
                      when 'm' then 'materialized view'
                      when 'f' then 'foreign table' end as kind,
       d.description as comment
from pg_class c
join pg_namespace n on n.oid = c.relnamespace
left join pg_description d on d.objoid = c.oid and d.objsubid = 0
where c.relkind in ('r','p','v','m','f')
  and n.nspname not in ('pg_catalog','information_schema')
order by 1, 3, 2;
```
* | schema              | relation                     | kind              | comment                                                                                                                                              |
| ------------------- | ---------------------------- | ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| auth                | audit_log_entries            | table             | Auth: Audit trail for user actions.                                                                                                                  |
| auth                | flow_state                   | table             | stores metadata for pkce logins                                                                                                                      |
| auth                | identities                   | table             | Auth: Stores identities associated to a user.                                                                                                        |
| auth                | instances                    | table             | Auth: Manages users across multiple sites.                                                                                                           |
| auth                | mfa_amr_claims               | table             | auth: stores authenticator method reference claims for multi factor authentication                                                                   |
| auth                | mfa_challenges               | table             | auth: stores metadata about challenge requests made                                                                                                  |
| auth                | mfa_factors                  | table             | auth: stores metadata about factors                                                                                                                  |
| auth                | one_time_tokens              | table             | null                                                                                                                                                 |
| auth                | refresh_tokens               | table             | Auth: Store of tokens used to refresh JWT tokens once they expire.                                                                                   |
| auth                | saml_providers               | table             | Auth: Manages SAML Identity Provider connections.                                                                                                    |
| auth                | saml_relay_states            | table             | Auth: Contains SAML Relay State information for each Service Provider initiated login.                                                               |
| auth                | schema_migrations            | table             | Auth: Manages updates to the auth system.                                                                                                            |
| auth                | sessions                     | table             | Auth: Stores session data associated to a user.                                                                                                      |
| auth                | sso_domains                  | table             | Auth: Manages SSO email address domain mapping to an SSO Identity Provider.                                                                          |
| auth                | sso_providers                | table             | Auth: Manages SSO identity provider information; see saml_providers for SAML.                                                                        |
| auth                | users                        | table             | Auth: Stores user login data within a secure schema.                                                                                                 |
| cron                | job                          | table             | null                                                                                                                                                 |
| cron                | job_run_details              | table             | null                                                                                                                                                 |
| extensions          | spatial_ref_sys              | table             | null                                                                                                                                                 |
| extensions          | geography_columns            | view              | null                                                                                                                                                 |
| extensions          | geometry_columns             | view              | null                                                                                                                                                 |
| extensions          | pg_stat_statements           | view              | null                                                                                                                                                 |
| extensions          | pg_stat_statements_info      | view              | null                                                                                                                                                 |
| public              | agent_performance_summary    | materialized view | Agent performance metrics - uses SECURITY INVOKER                                                                                                    |
| public              | campaign_summary             | materialized view | Campaign summary metrics - uses SECURITY INVOKER                                                                                                     |
| public              | active_agents                | table             | Stores real-time location data for active agents                                                                                                     |
| public              | admin_audit_log              | table             | null                                                                                                                                                 |
| public              | admin_users                  | table             | null                                                                                                                                                 |
| public              | agent_geofence_assignments   | table             | null                                                                                                                                                 |
| public              | agent_location_tracking      | table             | null                                                                                                                                                 |
| public              | app_settings                 | table             | Application settings configurable by admin users only                                                                                                |
| public              | app_versions                 | table             | null                                                                                                                                                 |
| public              | audit_log                    | table             | null                                                                                                                                                 |
| public              | campaign_agents              | table             | Join table to track which agents are assigned to which campaigns.                                                                                    |
| public              | campaign_daily_participation | table             | null                                                                                                                                                 |
| public              | campaign_geofences           | table             | null                                                                                                                                                 |
| public              | campaign_settings            | table             | null                                                                                                                                                 |
| public              | campaigns                    | table             | Stores high-level details for each advertising campaign.                                                                                             |
| public              | evidence                     | table             | Stores evidence files uploaded by agents. Can be linked to either tasks (task_assignment_id) or route visits (place_visit_id + route_assignment_id). |
| public              | geofences                    | table             | null                                                                                                                                                 |
| public              | global_survey_agents         | table             | null                                                                                                                                                 |
| public              | global_survey_clients        | table             | null                                                                                                                                                 |
| public              | global_survey_fields         | table             | null                                                                                                                                                 |
| public              | global_survey_submissions    | table             | null                                                                                                                                                 |
| public              | global_surveys               | table             | null                                                                                                                                                 |
| public              | groups                       | table             | null                                                                                                                                                 |
| public              | location_history             | table             | Stores a time-series of agent GPS locations.                                                                                                         |
| public              | manager_template_access      | table             | null                                                                                                                                                 |
| public              | notifications                | table             | null                                                                                                                                                 |
| public              | password_reset_logs          | table             | null                                                                                                                                                 |
| public              | payments                     | table             | null                                                                                                                                                 |
| public              | place_visits                 | table             | Tracks actual agent visits to places with check-in/out times and locations                                                                           |
| public              | places                       | table             | Stores place definitions for route visit system with approval workflow                                                                               |
| public              | profiles                     | table             | Stores public profile information for each user.                                                                                                     |
| public              | report_exports               | table             | null                                                                                                                                                 |
| public              | route_assignments            | table             | Assigns routes to agents with tracking of execution status                                                                                           |
| public              | route_places                 | table             | Junction table linking routes to places with visit order and instructions                                                                            |
| public              | routes                       | table             | Stores route definitions containing multiple places for agent visits                                                                                 |
| public              | sessions                     | table             | null                                                                                                                                                 |
| public              | survey_fields                | table             | null                                                                                                                                                 |
| public              | survey_submissions           | table             | null                                                                                                                                                 |
| public              | task_assignments             | table             | Tracks individual agent progress on a specific task.                                                                                                 |
| public              | task_dynamic_fields          | table             | null                                                                                                                                                 |
| public              | task_templates               | table             | null                                                                                                                                                 |
| public              | tasks                        | table             | Stores individual tasks that make up a campaign.                                                                                                     |
| public              | template_categories          | table             | null                                                                                                                                                 |
| public              | template_fields              | table             | null                                                                                                                                                 |
| public              | template_usage_analytics     | table             | null                                                                                                                                                 |
| public              | touring_task_assignments     | table             | null                                                                                                                                                 |
| public              | touring_task_sessions        | table             | null                                                                                                                                                 |
| public              | touring_task_surveys         | table             | null                                                                                                                                                 |
| public              | touring_tasks                | table             | null                                                                                                                                                 |
| public              | user_groups                  | table             | null                                                                                                                                                 |
| public              | location_history_app_format  | view              | Location history formatted for app consumption - uses SECURITY INVOKER                                                                               |
| public              | route_completion_progress    | view              | Route completion progress view - uses SECURITY INVOKER                                                                                               |
| public              | user_status_view             | view              | User status aggregation view - uses SECURITY INVOKER                                                                                                 |
| realtime            | messages                     | partitioned table | null                                                                                                                                                 |
| realtime            | messages_2025_08_17          | table             | null                                                                                                                                                 |
| realtime            | messages_2025_08_18          | table             | null                                                                                                                                                 |
| realtime            | messages_2025_08_19          | table             | null                                                                                                                                                 |
| realtime            | messages_2025_08_20          | table             | null                                                                                                                                                 |
| realtime            | messages_2025_08_21          | table             | null                                                                                                                                                 |
| realtime            | messages_2025_08_22          | table             | null                                                                                                                                                 |
| realtime            | messages_2025_08_23          | table             | null                                                                                                                                                 |
| realtime            | schema_migrations            | table             | null                                                                                                                                                 |
| realtime            | subscription                 | table             | null                                                                                                                                                 |
| storage             | buckets                      | table             | null                                                                                                                                                 |
| storage             | buckets_analytics            | table             | null                                                                                                                                                 |
| storage             | migrations                   | table             | null                                                                                                                                                 |
| storage             | objects                      | table             | null                                                                                                                                                 |
| storage             | prefixes                     | table             | null                                                                                                                                                 |
| storage             | s3_multipart_uploads         | table             | null                                                                                                                                                 |
| storage             | s3_multipart_uploads_parts   | table             | null                                                                                                                                                 |
| supabase_migrations | schema_migrations            | table             | null                                                                                                                                                 |
| topology            | layer                        | table             | null                                                                                                                                                 |
| topology            | topology                     | table             | null                                                                                                                                                 |
| vault               | secrets                      | table             | Table with encrypted `secret` column for storing sensitive information on disk.                                                                      |
| vault               | decrypted_secrets            | view              | null                                                                                                                                                 |

```sql
-- Columns (type, nullability, defaults, identity, generated, comments)
select c.table_schema,
       c.table_name,
       c.ordinal_position,
       c.column_name,
       c.data_type,
       c.is_nullable,
       c.column_default,
       c.is_identity,
       c.identity_generation,
       c.is_generated,
       c.generation_expression,
       pgd.description as column_comment
from information_schema.columns c
left join pg_catalog.pg_statio_all_tables st
       on st.schemaname = c.table_schema and st.relname = c.table_name
left join pg_catalog.pg_description pgd
       on pgd.objoid = st.relid and pgd.objsubid = c.ordinal_position
where c.table_schema not in ('pg_catalog','information_schema')
order by c.table_schema, c.table_name, c.ordinal_position;
```
* 
| table_schema | table_name        | ordinal_position | column_name            | data_type                   | is_nullable | column_default                                  | is_identity | identity_generation | is_generated | generation_expression                    | column_comment                                                                                                        |
| ------------ | ----------------- | ---------------- | ---------------------- | --------------------------- | ----------- | ----------------------------------------------- | ----------- | ------------------- | ------------ | ---------------------------------------- | --------------------------------------------------------------------------------------------------------------------- |
| auth         | audit_log_entries | 1                | instance_id            | uuid                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | audit_log_entries | 2                | id                     | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | audit_log_entries | 3                | payload                | json                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | audit_log_entries | 4                | created_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | audit_log_entries | 5                | ip_address             | character varying           | NO          | ''::character varying                           | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | flow_state        | 1                | id                     | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | flow_state        | 2                | user_id                | uuid                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | flow_state        | 3                | auth_code              | text                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | flow_state        | 4                | code_challenge_method  | USER-DEFINED                | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | flow_state        | 5                | code_challenge         | text                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | flow_state        | 6                | provider_type          | text                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | flow_state        | 7                | provider_access_token  | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | flow_state        | 8                | provider_refresh_token | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | flow_state        | 9                | created_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | flow_state        | 10               | updated_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | flow_state        | 11               | authentication_method  | text                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | flow_state        | 12               | auth_code_issued_at    | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | identities        | 1                | provider_id            | text                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | identities        | 2                | user_id                | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | identities        | 3                | identity_data          | jsonb                       | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | identities        | 4                | provider               | text                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | identities        | 5                | last_sign_in_at        | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | identities        | 6                | created_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | identities        | 7                | updated_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | identities        | 8                | email                  | text                        | YES         | null                                            | NO          | null                | ALWAYS       | lower((identity_data ->> 'email'::text)) | Auth: Email is a generated column that references the optional email property in the identity_data                    |
| auth         | identities        | 9                | id                     | uuid                        | NO          | gen_random_uuid()                               | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | instances         | 1                | id                     | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | instances         | 2                | uuid                   | uuid                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | instances         | 3                | raw_base_config        | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | instances         | 4                | created_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | instances         | 5                | updated_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_amr_claims    | 1                | session_id             | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_amr_claims    | 2                | created_at             | timestamp with time zone    | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_amr_claims    | 3                | updated_at             | timestamp with time zone    | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_amr_claims    | 4                | authentication_method  | text                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_amr_claims    | 5                | id                     | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_challenges    | 1                | id                     | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_challenges    | 2                | factor_id              | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_challenges    | 3                | created_at             | timestamp with time zone    | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_challenges    | 4                | verified_at            | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_challenges    | 5                | ip_address             | inet                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_challenges    | 6                | otp_code               | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_challenges    | 7                | web_authn_session_data | jsonb                       | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_factors       | 1                | id                     | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_factors       | 2                | user_id                | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_factors       | 3                | friendly_name          | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_factors       | 4                | factor_type            | USER-DEFINED                | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_factors       | 5                | status                 | USER-DEFINED                | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_factors       | 6                | created_at             | timestamp with time zone    | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_factors       | 7                | updated_at             | timestamp with time zone    | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_factors       | 8                | secret                 | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_factors       | 9                | phone                  | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_factors       | 10               | last_challenged_at     | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_factors       | 11               | web_authn_credential   | jsonb                       | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | mfa_factors       | 12               | web_authn_aaguid       | uuid                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | one_time_tokens   | 1                | id                     | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | one_time_tokens   | 2                | user_id                | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | one_time_tokens   | 3                | token_type             | USER-DEFINED                | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | one_time_tokens   | 4                | token_hash             | text                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | one_time_tokens   | 5                | relates_to             | text                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | one_time_tokens   | 6                | created_at             | timestamp without time zone | NO          | now()                                           | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | one_time_tokens   | 7                | updated_at             | timestamp without time zone | NO          | now()                                           | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | refresh_tokens    | 1                | instance_id            | uuid                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | refresh_tokens    | 2                | id                     | bigint                      | NO          | nextval('auth.refresh_tokens_id_seq'::regclass) | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | refresh_tokens    | 3                | token                  | character varying           | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | refresh_tokens    | 4                | user_id                | character varying           | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | refresh_tokens    | 5                | revoked                | boolean                     | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | refresh_tokens    | 6                | created_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | refresh_tokens    | 7                | updated_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | refresh_tokens    | 8                | parent                 | character varying           | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | refresh_tokens    | 9                | session_id             | uuid                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_providers    | 1                | id                     | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_providers    | 2                | sso_provider_id        | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_providers    | 3                | entity_id              | text                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_providers    | 4                | metadata_xml           | text                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_providers    | 5                | metadata_url           | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_providers    | 6                | attribute_mapping      | jsonb                       | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_providers    | 7                | created_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_providers    | 8                | updated_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_providers    | 9                | name_id_format         | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_relay_states | 1                | id                     | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_relay_states | 2                | sso_provider_id        | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_relay_states | 3                | request_id             | text                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_relay_states | 4                | for_email              | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_relay_states | 5                | redirect_to            | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_relay_states | 7                | created_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_relay_states | 8                | updated_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | saml_relay_states | 9                | flow_state_id          | uuid                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | schema_migrations | 1                | version                | character varying           | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | sessions          | 1                | id                     | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | sessions          | 2                | user_id                | uuid                        | NO          | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | sessions          | 3                | created_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | sessions          | 4                | updated_at             | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | sessions          | 5                | factor_id              | uuid                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | sessions          | 6                | aal                    | USER-DEFINED                | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | sessions          | 7                | not_after              | timestamp with time zone    | YES         | null                                            | NO          | null                | NEVER        | null                                     | Auth: Not after is a nullable column that contains a timestamp after which the session should be regarded as expired. |
| auth         | sessions          | 8                | refreshed_at           | timestamp without time zone | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | sessions          | 9                | user_agent             | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | sessions          | 10               | ip                     | inet                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |
| auth         | sessions          | 11               | tag                    | text                        | YES         | null                                            | NO          | null                | NEVER        | null                                     | null                                                                                                                  |

---

## 3) Constraints and Indexes

```sql
-- Primary keys and unique constraints
select n.nspname as schema,
       t.relname as table,
       con.conname as constraint_name,
       case con.contype when 'p' then 'PRIMARY KEY' when 'u' then 'UNIQUE' end as type,
       string_agg(a.attname, ', ' order by k.ordinality) as columns
from pg_constraint con
join pg_class t on con.conrelid = t.oid
join pg_namespace n on n.oid = t.relnamespace
join lateral unnest(con.conkey) with ordinality as k(attnum, ordinality) on true
join pg_attribute a on a.attrelid = t.oid and a.attnum = k.attnum
where con.contype in ('p','u')
  and n.nspname not in ('pg_catalog','information_schema')
group by 1, 2, 3, 4
order by 1, 2, 3;
```
* 
| schema     | table                        | constraint_name                                                 | type        | columns                                               |
| ---------- | ---------------------------- | --------------------------------------------------------------- | ----------- | ----------------------------------------------------- |
| auth       | audit_log_entries            | audit_log_entries_pkey                                          | PRIMARY KEY | id                                                    |
| auth       | flow_state                   | flow_state_pkey                                                 | PRIMARY KEY | id                                                    |
| auth       | identities                   | identities_pkey                                                 | PRIMARY KEY | id                                                    |
| auth       | identities                   | identities_provider_id_provider_unique                          | UNIQUE      | provider_id, provider                                 |
| auth       | instances                    | instances_pkey                                                  | PRIMARY KEY | id                                                    |
| auth       | mfa_amr_claims               | amr_id_pk                                                       | PRIMARY KEY | id                                                    |
| auth       | mfa_amr_claims               | mfa_amr_claims_session_id_authentication_method_pkey            | UNIQUE      | session_id, authentication_method                     |
| auth       | mfa_challenges               | mfa_challenges_pkey                                             | PRIMARY KEY | id                                                    |
| auth       | mfa_factors                  | mfa_factors_last_challenged_at_key                              | UNIQUE      | last_challenged_at                                    |
| auth       | mfa_factors                  | mfa_factors_pkey                                                | PRIMARY KEY | id                                                    |
| auth       | one_time_tokens              | one_time_tokens_pkey                                            | PRIMARY KEY | id                                                    |
| auth       | refresh_tokens               | refresh_tokens_pkey                                             | PRIMARY KEY | id                                                    |
| auth       | refresh_tokens               | refresh_tokens_token_unique                                     | UNIQUE      | token                                                 |
| auth       | saml_providers               | saml_providers_entity_id_key                                    | UNIQUE      | entity_id                                             |
| auth       | saml_providers               | saml_providers_pkey                                             | PRIMARY KEY | id                                                    |
| auth       | saml_relay_states            | saml_relay_states_pkey                                          | PRIMARY KEY | id                                                    |
| auth       | schema_migrations            | schema_migrations_pkey                                          | PRIMARY KEY | version                                               |
| auth       | sessions                     | sessions_pkey                                                   | PRIMARY KEY | id                                                    |
| auth       | sso_domains                  | sso_domains_pkey                                                | PRIMARY KEY | id                                                    |
| auth       | sso_providers                | sso_providers_pkey                                              | PRIMARY KEY | id                                                    |
| auth       | users                        | users_phone_key                                                 | UNIQUE      | phone                                                 |
| auth       | users                        | users_pkey                                                      | PRIMARY KEY | id                                                    |
| cron       | job                          | job_pkey                                                        | PRIMARY KEY | jobid                                                 |
| cron       | job                          | jobname_username_uniq                                           | UNIQUE      | jobname, username                                     |
| cron       | job_run_details              | job_run_details_pkey                                            | PRIMARY KEY | runid                                                 |
| extensions | spatial_ref_sys              | spatial_ref_sys_pkey                                            | PRIMARY KEY | srid                                                  |
| public     | active_agents                | active_agents_pkey                                              | PRIMARY KEY | id                                                    |
| public     | active_agents                | active_agents_user_id_key                                       | UNIQUE      | user_id                                               |
| public     | admin_audit_log              | admin_audit_log_pkey                                            | PRIMARY KEY | id                                                    |
| public     | admin_users                  | admin_users_pkey                                                | PRIMARY KEY | user_id                                               |
| public     | agent_geofence_assignments   | agent_geofence_assignments_campaign_id_agent_id_status_key      | UNIQUE      | campaign_id, agent_id, status                         |
| public     | agent_geofence_assignments   | agent_geofence_assignments_pkey                                 | PRIMARY KEY | id                                                    |
| public     | agent_location_tracking      | agent_location_tracking_pkey                                    | PRIMARY KEY | id                                                    |
| public     | app_settings                 | app_settings_pkey                                               | PRIMARY KEY | id                                                    |
| public     | app_settings                 | app_settings_setting_key_key                                    | UNIQUE      | setting_key                                           |
| public     | app_versions                 | app_versions_pkey                                               | PRIMARY KEY | id                                                    |
| public     | audit_log                    | audit_log_pkey                                                  | PRIMARY KEY | id                                                    |
| public     | campaign_agents              | campaign_agents_pkey                                            | PRIMARY KEY | campaign_id, agent_id                                 |
| public     | campaign_daily_participation | campaign_daily_participation_campaign_id_agent_id_participa_key | UNIQUE      | campaign_id, agent_id, participation_date             |
| public     | campaign_daily_participation | campaign_daily_participation_pkey                               | PRIMARY KEY | id                                                    |
| public     | campaign_geofences           | campaign_geofences_pkey                                         | PRIMARY KEY | id                                                    |
| public     | campaign_settings            | campaign_settings_campaign_id_setting_key_key                   | UNIQUE      | campaign_id, setting_key                              |
| public     | campaign_settings            | campaign_settings_pkey                                          | PRIMARY KEY | id                                                    |
| public     | campaigns                    | campaigns_pkey                                                  | PRIMARY KEY | id                                                    |
| public     | evidence                     | evidence_pkey                                                   | PRIMARY KEY | id                                                    |
| public     | geofences                    | geofences_pkey                                                  | PRIMARY KEY | id                                                    |
| public     | global_survey_agents         | global_survey_agents_pkey                                       | PRIMARY KEY | id                                                    |
| public     | global_survey_agents         | unique_survey_agent                                             | UNIQUE      | survey_id, agent_id                                   |
| public     | global_survey_clients        | global_survey_clients_pkey                                      | PRIMARY KEY | id                                                    |
| public     | global_survey_clients        | global_survey_clients_survey_id_client_id_key                   | UNIQUE      | survey_id, client_id                                  |
| public     | global_survey_fields         | global_survey_fields_pkey                                       | PRIMARY KEY | id                                                    |
| public     | global_survey_fields         | unique_field_name_per_global_survey                             | UNIQUE      | survey_id, field_name                                 |
| public     | global_survey_submissions    | global_survey_submissions_pkey                                  | PRIMARY KEY | id                                                    |
| public     | global_surveys               | global_surveys_pkey                                             | PRIMARY KEY | id                                                    |
| public     | groups                       | groups_pkey                                                     | PRIMARY KEY | id                                                    |
| public     | location_history             | location_history_pkey                                           | PRIMARY KEY | id                                                    |
| public     | manager_template_access      | manager_template_access_pkey                                    | PRIMARY KEY | id                                                    |
| public     | manager_template_access      | unique_manager_access                                           | UNIQUE      | manager_id                                            |
| public     | notifications                | notifications_pkey                                              | PRIMARY KEY | id                                                    |
| public     | password_reset_logs          | password_reset_logs_pkey                                        | PRIMARY KEY | id                                                    |
| public     | payments                     | payments_pkey                                                   | PRIMARY KEY | id                                                    |
| public     | place_visits                 | place_visits_pkey                                               | PRIMARY KEY | id                                                    |
| public     | place_visits                 | place_visits_unique_visit_number                                | UNIQUE      | route_assignment_id, place_id, agent_id, visit_number |
| public     | places                       | places_pkey                                                     | PRIMARY KEY | id                                                    |
| public     | profiles                     | profiles_pkey                                                   | PRIMARY KEY | id                                                    |
| public     | profiles                     | profiles_username_key                                           | UNIQUE      | username                                              |
| public     | report_exports               | report_exports_pkey                                             | PRIMARY KEY | id                                                    |
| public     | route_assignments            | route_assignments_pkey                                          | PRIMARY KEY | id                                                    |
| public     | route_assignments            | route_assignments_route_id_agent_id_key                         | UNIQUE      | route_id, agent_id                                    |
| public     | route_places                 | route_places_pkey                                               | PRIMARY KEY | id                                                    |
| public     | route_places                 | route_places_route_id_place_id_key                              | UNIQUE      | route_id, place_id                                    |
| public     | route_places                 | route_places_route_id_visit_order_key                           | UNIQUE      | route_id, visit_order                                 |
| public     | routes                       | routes_pkey                                                     | PRIMARY KEY | id                                                    |
| public     | sessions                     | sessions_pkey                                                   | PRIMARY KEY | id                                                    |
| public     | survey_fields                | survey_fields_pkey                                              | PRIMARY KEY | id                                                    |
| public     | survey_fields                | unique_field_name_per_survey                                    | UNIQUE      | survey_id, field_name                                 |
| public     | survey_submissions           | survey_submissions_pkey                                         | PRIMARY KEY | id                                                    |
| public     | survey_submissions           | unique_submission_per_session                                   | UNIQUE      | survey_id, agent_id, session_id                       |
| public     | task_assignments             | task_assignments_pkey                                           | PRIMARY KEY | id                                                    |
| public     | task_assignments             | task_assignments_task_id_agent_id_key                           | UNIQUE      | task_id, agent_id                                     |
| public     | task_dynamic_fields          | task_dynamic_fields_pkey                                        | PRIMARY KEY | id                                                    |
| public     | task_dynamic_fields          | task_dynamic_fields_task_id_field_name_key                      | UNIQUE      | task_id, field_name                                   |
| public     | task_templates               | task_templates_pkey                                             | PRIMARY KEY | id                                                    |
| public     | tasks                        | tasks_pkey                                                      | PRIMARY KEY | id                                                    |
| public     | template_categories          | template_categories_name_key                                    | UNIQUE      | name                                                  |
| public     | template_categories          | template_categories_pkey                                        | PRIMARY KEY | id                                                    |
| public     | template_fields              | template_fields_pkey                                            | PRIMARY KEY | id                                                    |
| public     | template_usage_analytics     | template_usage_analytics_pkey                                   | PRIMARY KEY | id                                                    |
| public     | touring_task_assignments     | touring_task_assignments_pkey                                   | PRIMARY KEY | id                                                    |
| public     | touring_task_assignments     | touring_task_assignments_touring_task_id_agent_id_key           | UNIQUE      | touring_task_id, agent_id                             |
| public     | touring_task_sessions        | touring_task_sessions_pkey                                      | PRIMARY KEY | id                                                    |
| public     | touring_task_surveys         | touring_task_surveys_pkey                                       | PRIMARY KEY | id                                                    |
| public     | touring_task_surveys         | unique_survey_per_task                                          | UNIQUE      | touring_task_id                                       |
| public     | touring_tasks                | touring_tasks_pkey                                              | PRIMARY KEY | id                                                    |
| public     | user_groups                  | user_groups_pkey                                                | PRIMARY KEY | id                                                    |
| public     | user_groups                  | user_groups_user_id_group_id_key                                | UNIQUE      | user_id, group_id                                     |
| realtime   | messages                     | messages_pkey                                                   | PRIMARY KEY | id, inserted_at                                       |
| realtime   | messages_2025_08_17          | messages_2025_08_17_pkey                                        | PRIMARY KEY | id, inserted_at                                       |
| realtime   | messages_2025_08_18          | messages_2025_08_18_pkey                                        | PRIMARY KEY | id, inserted_at                                       |
| realtime   | messages_2025_08_19          | messages_2025_08_19_pkey                                        | PRIMARY KEY | id, inserted_at                                       |

```sql
-- Foreign keys with actions
select n.nspname as schema,
       t.relname as table,
       con.conname as constraint_name,
       string_agg(a.attname, ', ' order by k.ordinality) as columns,
       fn.nspname as ref_schema,
       ft.relname as ref_table,
       string_agg(ra.attname, ', ' order by k.ordinality) as ref_columns,
       case con.confmatchtype when 'f' then 'FULL' when 'p' then 'PARTIAL' when 's' then 'SIMPLE' end as match_type,
       case con.confupdtype when 'a' then 'NO ACTION' when 'r' then 'RESTRICT' when 'c' then 'CASCADE' when 'n' then 'SET NULL' when 'd' then 'SET DEFAULT' end as on_update,
       case con.confdeltype when 'a' then 'NO ACTION' when 'r' then 'RESTRICT' when 'c' then 'CASCADE' when 'n' then 'SET NULL' when 'd' then 'SET DEFAULT' end as on_delete
from pg_constraint con
join pg_class t on con.conrelid = t.oid
join pg_namespace n on n.oid = t.relnamespace
join pg_class ft on con.confrelid = ft.oid
join pg_namespace fn on fn.oid = ft.relnamespace
join lateral unnest(con.conkey) with ordinality as k(attnum, ordinality) on true
join pg_attribute a on a.attrelid = t.oid and a.attnum = k.attnum
join lateral unnest(con.confkey) with ordinality as rk(attnum, ordinality) on rk.ordinality = k.ordinality
join pg_attribute ra on ra.attrelid = ft.oid and ra.attnum = rk.attnum
where con.contype = 'f'
  and n.nspname not in ('pg_catalog','information_schema')
group by 1, 2, 3, 5, 6, 8, 9, 10
order by 1, 2, 3;
```
* 
| schema | table                        | constraint_name                               | columns             | ref_schema | ref_table             | ref_columns | match_type | on_update | on_delete |
| ------ | ---------------------------- | --------------------------------------------- | ------------------- | ---------- | --------------------- | ----------- | ---------- | --------- | --------- |
| auth   | identities                   | identities_user_id_fkey                       | user_id             | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| auth   | mfa_amr_claims               | mfa_amr_claims_session_id_fkey                | session_id          | auth       | sessions              | id          | SIMPLE     | NO ACTION | CASCADE   |
| auth   | mfa_challenges               | mfa_challenges_auth_factor_id_fkey            | factor_id           | auth       | mfa_factors           | id          | SIMPLE     | NO ACTION | CASCADE   |
| auth   | mfa_factors                  | mfa_factors_user_id_fkey                      | user_id             | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| auth   | one_time_tokens              | one_time_tokens_user_id_fkey                  | user_id             | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| auth   | refresh_tokens               | refresh_tokens_session_id_fkey                | session_id          | auth       | sessions              | id          | SIMPLE     | NO ACTION | CASCADE   |
| auth   | saml_providers               | saml_providers_sso_provider_id_fkey           | sso_provider_id     | auth       | sso_providers         | id          | SIMPLE     | NO ACTION | CASCADE   |
| auth   | saml_relay_states            | saml_relay_states_flow_state_id_fkey          | flow_state_id       | auth       | flow_state            | id          | SIMPLE     | NO ACTION | CASCADE   |
| auth   | saml_relay_states            | saml_relay_states_sso_provider_id_fkey        | sso_provider_id     | auth       | sso_providers         | id          | SIMPLE     | NO ACTION | CASCADE   |
| auth   | sessions                     | sessions_user_id_fkey                         | user_id             | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| auth   | sso_domains                  | sso_domains_sso_provider_id_fkey              | sso_provider_id     | auth       | sso_providers         | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | active_agents                | active_agents_user_id_fkey                    | user_id             | public     | profiles              | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | admin_users                  | admin_users_user_id_fkey                      | user_id             | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | agent_geofence_assignments   | agent_geofence_assignments_agent_id_fkey      | agent_id            | public     | profiles              | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | agent_geofence_assignments   | agent_geofence_assignments_campaign_id_fkey   | campaign_id         | public     | campaigns             | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | agent_geofence_assignments   | agent_geofence_assignments_geofence_id_fkey   | geofence_id         | public     | campaign_geofences    | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | agent_location_tracking      | agent_location_tracking_agent_id_fkey         | agent_id            | public     | profiles              | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | agent_location_tracking      | agent_location_tracking_campaign_id_fkey      | campaign_id         | public     | campaigns             | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | agent_location_tracking      | agent_location_tracking_geofence_id_fkey      | geofence_id         | public     | campaign_geofences    | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | app_settings                 | app_settings_updated_by_fkey                  | updated_by          | auth       | users                 | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | audit_log                    | audit_log_user_id_fkey                        | user_id             | auth       | users                 | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | campaign_agents              | campaign_agents_agent_id_fkey                 | agent_id            | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | campaign_agents              | campaign_agents_assigned_by_fkey              | assigned_by         | auth       | users                 | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | campaign_agents              | campaign_agents_campaign_id_fkey              | campaign_id         | public     | campaigns             | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | campaign_daily_participation | campaign_daily_participation_agent_id_fkey    | agent_id            | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | campaign_daily_participation | campaign_daily_participation_campaign_id_fkey | campaign_id         | public     | campaigns             | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | campaign_geofences           | campaign_geofences_campaign_id_fkey           | campaign_id         | public     | campaigns             | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | campaign_geofences           | campaign_geofences_created_by_fkey            | created_by          | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | campaign_settings            | campaign_settings_campaign_id_fkey            | campaign_id         | public     | campaigns             | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | campaigns                    | campaigns_assigned_manager_id_fkey            | assigned_manager_id | public     | profiles              | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | campaigns                    | campaigns_client_id_fkey                      | client_id           | public     | profiles              | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | campaigns                    | campaigns_created_by_fkey                     | created_by          | auth       | users                 | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | evidence                     | evidence_place_visit_id_fkey                  | place_visit_id      | public     | place_visits          | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | evidence                     | evidence_reviewed_by_fkey                     | reviewed_by         | auth       | users                 | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | evidence                     | evidence_route_assignment_id_fkey             | route_assignment_id | public     | route_assignments     | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | evidence                     | evidence_task_assignment_id_fkey              | task_assignment_id  | public     | task_assignments      | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | evidence                     | evidence_uploader_id_fkey                     | uploader_id         | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | geofences                    | geofences_campaign_id_fkey                    | campaign_id         | public     | campaigns             | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | geofences                    | geofences_place_id_fkey                       | place_id            | public     | places                | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | geofences                    | geofences_task_id_fkey                        | task_id             | public     | tasks                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | global_survey_agents         | global_survey_agents_agent_id_fkey            | agent_id            | public     | profiles              | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | global_survey_agents         | global_survey_agents_survey_id_fkey           | survey_id           | public     | global_surveys        | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | global_survey_clients        | global_survey_clients_client_id_fkey          | client_id           | public     | profiles              | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | global_survey_clients        | global_survey_clients_survey_id_fkey          | survey_id           | public     | global_surveys        | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | global_survey_fields         | global_survey_fields_survey_id_fkey           | survey_id           | public     | global_surveys        | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | global_survey_submissions    | global_survey_submissions_agent_id_fkey       | agent_id            | public     | profiles              | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | global_survey_submissions    | global_survey_submissions_survey_id_fkey      | survey_id           | public     | global_surveys        | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | global_surveys               | global_surveys_created_by_fkey                | created_by          | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | groups                       | groups_created_by_fkey                        | created_by          | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | groups                       | groups_manager_id_fkey                        | manager_id          | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | location_history             | location_history_user_id_fkey                 | user_id             | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | manager_template_access      | manager_template_access_manager_id_fkey       | manager_id          | public     | profiles              | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | notifications                | notifications_recipient_id_fkey               | recipient_id        | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | notifications                | notifications_sender_id_fkey                  | sender_id           | auth       | users                 | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | password_reset_logs          | password_reset_logs_reset_by_fkey             | reset_by            | auth       | users                 | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | password_reset_logs          | password_reset_logs_user_id_fkey              | user_id             | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | payments                     | payments_agent_id_fkey                        | agent_id            | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | payments                     | payments_campaign_id_fkey                     | campaign_id         | public     | campaigns             | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | payments                     | payments_paid_by_manager_id_fkey              | paid_by_manager_id  | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | payments                     | payments_touring_task_id_fkey                 | touring_task_id     | public     | touring_tasks         | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | place_visits                 | place_visits_agent_id_fkey                    | agent_id            | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | place_visits                 | place_visits_place_id_fkey                    | place_id            | public     | places                | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | place_visits                 | place_visits_route_assignment_id_fkey         | route_assignment_id | public     | route_assignments     | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | places                       | places_approved_by_fkey                       | approved_by         | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | places                       | places_created_by_fkey                        | created_by          | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | profiles                     | profiles_created_by_fkey                      | created_by          | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | profiles                     | profiles_default_group_id_fkey                | default_group_id    | public     | groups                | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | profiles                     | profiles_id_fkey                              | id                  | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | report_exports               | report_exports_user_id_fkey                   | user_id             | auth       | users                 | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | route_assignments            | route_assignments_agent_id_fkey               | agent_id            | public     | profiles              | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | route_assignments            | route_assignments_assigned_by_fkey            | assigned_by         | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | route_assignments            | route_assignments_route_id_fkey               | route_id            | public     | routes                | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | route_places                 | route_places_place_id_fkey                    | place_id            | public     | places                | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | route_places                 | route_places_route_id_fkey                    | route_id            | public     | routes                | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | routes                       | routes_assigned_manager_id_fkey               | assigned_manager_id | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | routes                       | routes_created_by_fkey                        | created_by          | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | sessions                     | sessions_user_id_fkey                         | user_id             | auth       | users                 | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | survey_fields                | survey_fields_survey_id_fkey                  | survey_id           | public     | touring_task_surveys  | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | survey_submissions           | survey_submissions_agent_id_fkey              | agent_id            | public     | profiles              | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | survey_submissions           | survey_submissions_session_id_fkey            | session_id          | public     | touring_task_sessions | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | survey_submissions           | survey_submissions_survey_id_fkey             | survey_id           | public     | touring_task_surveys  | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | survey_submissions           | survey_submissions_touring_task_id_fkey       | touring_task_id     | public     | touring_tasks         | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | task_assignments             | fk_task_assignments_agent_id                  | agent_id            | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | task_assignments             | task_assignments_agent_id_fkey                | agent_id            | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | task_assignments             | task_assignments_task_id_fkey                 | task_id             | public     | tasks                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | task_dynamic_fields          | task_dynamic_fields_created_by_fkey           | created_by          | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | task_dynamic_fields          | task_dynamic_fields_task_id_fkey              | task_id             | public     | tasks                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | task_templates               | task_templates_category_id_fkey               | category_id         | public     | template_categories   | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | task_templates               | task_templates_created_by_fkey                | created_by          | auth       | users                 | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | tasks                        | tasks_assigned_manager_id_fkey                | assigned_manager_id | public     | profiles              | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | tasks                        | tasks_campaign_id_fkey                        | campaign_id         | public     | campaigns             | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | tasks                        | tasks_created_by_fkey                         | created_by          | public     | profiles              | id          | SIMPLE     | NO ACTION | NO ACTION |
| public | tasks                        | tasks_template_id_fkey                        | template_id         | public     | task_templates        | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | template_fields              | template_fields_template_id_fkey              | template_id         | public     | task_templates        | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | template_usage_analytics     | template_usage_analytics_created_by_fkey      | created_by          | auth       | users                 | id          | SIMPLE     | NO ACTION | SET NULL  |
| public | template_usage_analytics     | template_usage_analytics_task_id_fkey         | task_id             | public     | tasks                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | template_usage_analytics     | template_usage_analytics_template_id_fkey     | template_id         | public     | task_templates        | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | touring_task_assignments     | touring_task_assignments_agent_id_fkey        | agent_id            | auth       | users                 | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | touring_task_assignments     | touring_task_assignments_touring_task_id_fkey | touring_task_id     | public     | touring_tasks         | id          | SIMPLE     | NO ACTION | CASCADE   |
| public | touring_task_sessions        | touring_task_sessions_touring_task_id_fkey    | touring_task_id     | public     | touring_tasks         | id          | SIMPLE     | NO ACTION | CASCADE   |

```sql
-- Check constraints
select n.nspname as schema,
       t.relname as table,
       con.conname as constraint_name,
       pg_get_expr(con.conbin, con.conrelid) as expression
from pg_constraint con
join pg_class t on con.conrelid = t.oid
join pg_namespace n on n.oid = t.relnamespace
where con.contype = 'c'
  and con.conislocal
  and n.nspname not in ('pg_catalog','information_schema')
order by 1, 2, 3;
```
* 
| schema     | table                      | constraint_name                         | expression                                                                                                                                                                                                                                                                                                           |
| ---------- | -------------------------- | --------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| auth       | one_time_tokens            | one_time_tokens_token_hash_check        | (char_length(token_hash) > 0)                                                                                                                                                                                                                                                                                        |
| auth       | saml_providers             | entity_id not empty                     | (char_length(entity_id) > 0)                                                                                                                                                                                                                                                                                         |
| auth       | saml_providers             | metadata_url not empty                  | ((metadata_url = NULL::text) OR (char_length(metadata_url) > 0))                                                                                                                                                                                                                                                     |
| auth       | saml_providers             | metadata_xml not empty                  | (char_length(metadata_xml) > 0)                                                                                                                                                                                                                                                                                      |
| auth       | saml_relay_states          | request_id not empty                    | (char_length(request_id) > 0)                                                                                                                                                                                                                                                                                        |
| auth       | sso_domains                | domain not empty                        | (char_length(domain) > 0)                                                                                                                                                                                                                                                                                            |
| auth       | sso_providers              | resource_id not empty                   | ((resource_id = NULL::text) OR (char_length(resource_id) > 0))                                                                                                                                                                                                                                                       |
| auth       | users                      | users_email_change_confirm_status_check | ((email_change_confirm_status >= 0) AND (email_change_confirm_status <= 2))                                                                                                                                                                                                                                          |
| extensions | spatial_ref_sys            | spatial_ref_sys_srid_check              | ((srid > 0) AND (srid <= 998999))                                                                                                                                                                                                                                                                                    |
| public     | agent_geofence_assignments | agent_geofence_assignments_status_check | (status = ANY (ARRAY['active'::text, 'completed'::text, 'cancelled'::text]))                                                                                                                                                                                                                                         |
| public     | agent_location_tracking    | valid_coordinates                       | (((latitude >= ('-90'::integer)::numeric) AND (latitude <= (90)::numeric)) AND ((longitude >= ('-180'::integer)::numeric) AND (longitude <= (180)::numeric)))                                                                                                                                                        |
| public     | app_versions               | app_versions_platform_check             | (platform = ANY (ARRAY['android'::text, 'ios'::text]))                                                                                                                                                                                                                                                               |
| public     | evidence                   | evidence_priority_check                 | (priority = ANY (ARRAY['normal'::text, 'urgent'::text, 'high'::text, 'low'::text]))                                                                                                                                                                                                                                  |
| public     | evidence                   | evidence_status_check                   | (status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text]))                                                                                                                                                                                                                                          |
| public     | geofences                  | campaign_or_task_exclusive              | (((campaign_id IS NOT NULL) AND (task_id IS NULL)) OR ((campaign_id IS NULL) AND (task_id IS NOT NULL)))                                                                                                                                                                                                             |
| public     | geofences                  | geofences_parent_check                  | (((campaign_id IS NOT NULL) AND (task_id IS NULL) AND (place_id IS NULL)) OR ((campaign_id IS NULL) AND (task_id IS NOT NULL) AND (place_id IS NULL)) OR ((campaign_id IS NULL) AND (task_id IS NULL) AND (place_id IS NOT NULL)))                                                                                   |
| public     | global_survey_fields       | global_survey_fields_field_type_check   | ((field_type)::text = ANY ((ARRAY['text'::character varying, 'number'::character varying, 'select'::character varying, 'multiselect'::character varying, 'boolean'::character varying, 'date'::character varying, 'textarea'::character varying, 'rating'::character varying, 'photo'::character varying])::text[])) |
| public     | payments                   | payments_payment_type_check             | (payment_type = ANY (ARRAY['task_completion'::text, 'campaign_daily'::text, 'touring_task'::text, 'bonus'::text, 'manual'::text]))                                                                                                                                                                                   |
| public     | place_visits               | place_visits_status_check               | (status = ANY (ARRAY['pending'::text, 'checked_in'::text, 'completed'::text, 'skipped'::text]))                                                                                                                                                                                                                      |
| public     | places                     | places_approval_status_check            | (approval_status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text]))                                                                                                                                                                                                                                 |
| public     | places                     | places_status_check                     | (status = ANY (ARRAY['active'::text, 'inactive'::text, 'pending_approval'::text]))                                                                                                                                                                                                                                   |
| public     | profiles                   | profiles_connection_status_check        | (connection_status = ANY (ARRAY['active'::text, 'away'::text, 'offline'::text]))                                                                                                                                                                                                                                     |
| public     | profiles                   | role_check                              | (role = ANY (ARRAY['admin'::text, 'manager'::text, 'agent'::text, 'client'::text]))                                                                                                                                                                                                                                  |
| public     | profiles                   | status_check                            | (status = ANY (ARRAY['active'::text, 'suspended'::text, 'deleted'::text, 'away'::text, 'offline'::text]))                                                                                                                                                                                                            |
| public     | profiles                   | valid_timezone                          | (timezone = ANY (ARRAY['Asia/Kuwait'::text, 'Asia/Riyadh'::text, 'Asia/Qatar'::text, 'Asia/Dubai'::text, 'Asia/Bahrain'::text, 'Asia/Muscat'::text, 'Europe/London'::text, 'America/New_York'::text, 'Asia/Dhaka'::text, 'Asia/Karachi'::text, 'Africa/Cairo'::text, 'Asia/Baghdad'::text]))                         |
| public     | route_assignments          | route_assignments_status_check          | (status = ANY (ARRAY['assigned'::text, 'in_progress'::text, 'completed'::text, 'cancelled'::text]))                                                                                                                                                                                                                  |
| public     | route_places               | route_places_visit_frequency_check      | (visit_frequency >= 1)                                                                                                                                                                                                                                                                                               |
| public     | routes                     | routes_status_check                     | (status = ANY (ARRAY['draft'::text, 'active'::text, 'completed'::text, 'archived'::text]))                                                                                                                                                                                                                           |
| public     | survey_fields              | survey_fields_field_type_check          | ((field_type)::text = ANY ((ARRAY['text'::character varying, 'number'::character varying, 'select'::character varying, 'multiselect'::character varying, 'boolean'::character varying, 'date'::character varying, 'textarea'::character varying, 'rating'::character varying, 'photo'::character varying])::text[])) |
| public     | task_templates             | task_templates_difficulty_level_check   | (difficulty_level = ANY (ARRAY['easy'::text, 'medium'::text, 'hard'::text]))                                                                                                                                                                                                                                         |
| public     | template_fields            | template_fields_field_type_check        | (field_type = ANY (ARRAY['text'::text, 'number'::text, 'date'::text, 'boolean'::text, 'select'::text, 'multiselect'::text, 'textarea'::text, 'email'::text, 'phone'::text]))                                                                                                                                         |
| public     | touring_task_assignments   | touring_task_assignments_status_check   | (status = ANY (ARRAY['assigned'::text, 'in_progress'::text, 'completed'::text, 'cancelled'::text]))                                                                                                                                                                                                                  |
| public     | touring_tasks              | touring_tasks_status_check              | (status = ANY (ARRAY['pending'::text, 'active'::text, 'completed'::text, 'cancelled'::text]))                                                                                                                                                                                                                        |

```sql
-- Indexes
select schemaname as schema, tablename as table, indexname, indexdef
from pg_indexes
where schemaname not in ('pg_catalog','information_schema')
order by 1, 2, 3;
```
* 
| schema     | table                        | indexname                                                       | indexdef                                                                                                                                                                           |
| ---------- | ---------------------------- | --------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| auth       | audit_log_entries            | audit_log_entries_pkey                                          | CREATE UNIQUE INDEX audit_log_entries_pkey ON auth.audit_log_entries USING btree (id)                                                                                              |
| auth       | audit_log_entries            | audit_logs_instance_id_idx                                      | CREATE INDEX audit_logs_instance_id_idx ON auth.audit_log_entries USING btree (instance_id)                                                                                        |
| auth       | flow_state                   | flow_state_created_at_idx                                       | CREATE INDEX flow_state_created_at_idx ON auth.flow_state USING btree (created_at DESC)                                                                                            |
| auth       | flow_state                   | flow_state_pkey                                                 | CREATE UNIQUE INDEX flow_state_pkey ON auth.flow_state USING btree (id)                                                                                                            |
| auth       | flow_state                   | idx_auth_code                                                   | CREATE INDEX idx_auth_code ON auth.flow_state USING btree (auth_code)                                                                                                              |
| auth       | flow_state                   | idx_user_id_auth_method                                         | CREATE INDEX idx_user_id_auth_method ON auth.flow_state USING btree (user_id, authentication_method)                                                                               |
| auth       | identities                   | identities_email_idx                                            | CREATE INDEX identities_email_idx ON auth.identities USING btree (email text_pattern_ops)                                                                                          |
| auth       | identities                   | identities_pkey                                                 | CREATE UNIQUE INDEX identities_pkey ON auth.identities USING btree (id)                                                                                                            |
| auth       | identities                   | identities_provider_id_provider_unique                          | CREATE UNIQUE INDEX identities_provider_id_provider_unique ON auth.identities USING btree (provider_id, provider)                                                                  |
| auth       | identities                   | identities_user_id_idx                                          | CREATE INDEX identities_user_id_idx ON auth.identities USING btree (user_id)                                                                                                       |
| auth       | instances                    | instances_pkey                                                  | CREATE UNIQUE INDEX instances_pkey ON auth.instances USING btree (id)                                                                                                              |
| auth       | mfa_amr_claims               | amr_id_pk                                                       | CREATE UNIQUE INDEX amr_id_pk ON auth.mfa_amr_claims USING btree (id)                                                                                                              |
| auth       | mfa_amr_claims               | mfa_amr_claims_session_id_authentication_method_pkey            | CREATE UNIQUE INDEX mfa_amr_claims_session_id_authentication_method_pkey ON auth.mfa_amr_claims USING btree (session_id, authentication_method)                                    |
| auth       | mfa_challenges               | mfa_challenge_created_at_idx                                    | CREATE INDEX mfa_challenge_created_at_idx ON auth.mfa_challenges USING btree (created_at DESC)                                                                                     |
| auth       | mfa_challenges               | mfa_challenges_pkey                                             | CREATE UNIQUE INDEX mfa_challenges_pkey ON auth.mfa_challenges USING btree (id)                                                                                                    |
| auth       | mfa_factors                  | factor_id_created_at_idx                                        | CREATE INDEX factor_id_created_at_idx ON auth.mfa_factors USING btree (user_id, created_at)                                                                                        |
| auth       | mfa_factors                  | mfa_factors_last_challenged_at_key                              | CREATE UNIQUE INDEX mfa_factors_last_challenged_at_key ON auth.mfa_factors USING btree (last_challenged_at)                                                                        |
| auth       | mfa_factors                  | mfa_factors_pkey                                                | CREATE UNIQUE INDEX mfa_factors_pkey ON auth.mfa_factors USING btree (id)                                                                                                          |
| auth       | mfa_factors                  | mfa_factors_user_friendly_name_unique                           | CREATE UNIQUE INDEX mfa_factors_user_friendly_name_unique ON auth.mfa_factors USING btree (friendly_name, user_id) WHERE (TRIM(BOTH FROM friendly_name) <> ''::text)               |
| auth       | mfa_factors                  | mfa_factors_user_id_idx                                         | CREATE INDEX mfa_factors_user_id_idx ON auth.mfa_factors USING btree (user_id)                                                                                                     |
| auth       | mfa_factors                  | unique_phone_factor_per_user                                    | CREATE UNIQUE INDEX unique_phone_factor_per_user ON auth.mfa_factors USING btree (user_id, phone)                                                                                  |
| auth       | one_time_tokens              | one_time_tokens_pkey                                            | CREATE UNIQUE INDEX one_time_tokens_pkey ON auth.one_time_tokens USING btree (id)                                                                                                  |
| auth       | one_time_tokens              | one_time_tokens_relates_to_hash_idx                             | CREATE INDEX one_time_tokens_relates_to_hash_idx ON auth.one_time_tokens USING hash (relates_to)                                                                                   |
| auth       | one_time_tokens              | one_time_tokens_token_hash_hash_idx                             | CREATE INDEX one_time_tokens_token_hash_hash_idx ON auth.one_time_tokens USING hash (token_hash)                                                                                   |
| auth       | one_time_tokens              | one_time_tokens_user_id_token_type_key                          | CREATE UNIQUE INDEX one_time_tokens_user_id_token_type_key ON auth.one_time_tokens USING btree (user_id, token_type)                                                               |
| auth       | refresh_tokens               | refresh_tokens_instance_id_idx                                  | CREATE INDEX refresh_tokens_instance_id_idx ON auth.refresh_tokens USING btree (instance_id)                                                                                       |
| auth       | refresh_tokens               | refresh_tokens_instance_id_user_id_idx                          | CREATE INDEX refresh_tokens_instance_id_user_id_idx ON auth.refresh_tokens USING btree (instance_id, user_id)                                                                      |
| auth       | refresh_tokens               | refresh_tokens_parent_idx                                       | CREATE INDEX refresh_tokens_parent_idx ON auth.refresh_tokens USING btree (parent)                                                                                                 |
| auth       | refresh_tokens               | refresh_tokens_pkey                                             | CREATE UNIQUE INDEX refresh_tokens_pkey ON auth.refresh_tokens USING btree (id)                                                                                                    |
| auth       | refresh_tokens               | refresh_tokens_session_id_revoked_idx                           | CREATE INDEX refresh_tokens_session_id_revoked_idx ON auth.refresh_tokens USING btree (session_id, revoked)                                                                        |
| auth       | refresh_tokens               | refresh_tokens_token_unique                                     | CREATE UNIQUE INDEX refresh_tokens_token_unique ON auth.refresh_tokens USING btree (token)                                                                                         |
| auth       | refresh_tokens               | refresh_tokens_updated_at_idx                                   | CREATE INDEX refresh_tokens_updated_at_idx ON auth.refresh_tokens USING btree (updated_at DESC)                                                                                    |
| auth       | saml_providers               | saml_providers_entity_id_key                                    | CREATE UNIQUE INDEX saml_providers_entity_id_key ON auth.saml_providers USING btree (entity_id)                                                                                    |
| auth       | saml_providers               | saml_providers_pkey                                             | CREATE UNIQUE INDEX saml_providers_pkey ON auth.saml_providers USING btree (id)                                                                                                    |
| auth       | saml_providers               | saml_providers_sso_provider_id_idx                              | CREATE INDEX saml_providers_sso_provider_id_idx ON auth.saml_providers USING btree (sso_provider_id)                                                                               |
| auth       | saml_relay_states            | saml_relay_states_created_at_idx                                | CREATE INDEX saml_relay_states_created_at_idx ON auth.saml_relay_states USING btree (created_at DESC)                                                                              |
| auth       | saml_relay_states            | saml_relay_states_for_email_idx                                 | CREATE INDEX saml_relay_states_for_email_idx ON auth.saml_relay_states USING btree (for_email)                                                                                     |
| auth       | saml_relay_states            | saml_relay_states_pkey                                          | CREATE UNIQUE INDEX saml_relay_states_pkey ON auth.saml_relay_states USING btree (id)                                                                                              |
| auth       | saml_relay_states            | saml_relay_states_sso_provider_id_idx                           | CREATE INDEX saml_relay_states_sso_provider_id_idx ON auth.saml_relay_states USING btree (sso_provider_id)                                                                         |
| auth       | schema_migrations            | schema_migrations_pkey                                          | CREATE UNIQUE INDEX schema_migrations_pkey ON auth.schema_migrations USING btree (version)                                                                                         |
| auth       | sessions                     | sessions_not_after_idx                                          | CREATE INDEX sessions_not_after_idx ON auth.sessions USING btree (not_after DESC)                                                                                                  |
| auth       | sessions                     | sessions_pkey                                                   | CREATE UNIQUE INDEX sessions_pkey ON auth.sessions USING btree (id)                                                                                                                |
| auth       | sessions                     | sessions_user_id_idx                                            | CREATE INDEX sessions_user_id_idx ON auth.sessions USING btree (user_id)                                                                                                           |
| auth       | sessions                     | user_id_created_at_idx                                          | CREATE INDEX user_id_created_at_idx ON auth.sessions USING btree (user_id, created_at)                                                                                             |
| auth       | sso_domains                  | sso_domains_domain_idx                                          | CREATE UNIQUE INDEX sso_domains_domain_idx ON auth.sso_domains USING btree (lower(domain))                                                                                         |
| auth       | sso_domains                  | sso_domains_pkey                                                | CREATE UNIQUE INDEX sso_domains_pkey ON auth.sso_domains USING btree (id)                                                                                                          |
| auth       | sso_domains                  | sso_domains_sso_provider_id_idx                                 | CREATE INDEX sso_domains_sso_provider_id_idx ON auth.sso_domains USING btree (sso_provider_id)                                                                                     |
| auth       | sso_providers                | sso_providers_pkey                                              | CREATE UNIQUE INDEX sso_providers_pkey ON auth.sso_providers USING btree (id)                                                                                                      |
| auth       | sso_providers                | sso_providers_resource_id_idx                                   | CREATE UNIQUE INDEX sso_providers_resource_id_idx ON auth.sso_providers USING btree (lower(resource_id))                                                                           |
| auth       | sso_providers                | sso_providers_resource_id_pattern_idx                           | CREATE INDEX sso_providers_resource_id_pattern_idx ON auth.sso_providers USING btree (resource_id text_pattern_ops)                                                                |
| auth       | users                        | confirmation_token_idx                                          | CREATE UNIQUE INDEX confirmation_token_idx ON auth.users USING btree (confirmation_token) WHERE ((confirmation_token)::text !~ '^[0-9 ]*$'::text)                                  |
| auth       | users                        | email_change_token_current_idx                                  | CREATE UNIQUE INDEX email_change_token_current_idx ON auth.users USING btree (email_change_token_current) WHERE ((email_change_token_current)::text !~ '^[0-9 ]*$'::text)          |
| auth       | users                        | email_change_token_new_idx                                      | CREATE UNIQUE INDEX email_change_token_new_idx ON auth.users USING btree (email_change_token_new) WHERE ((email_change_token_new)::text !~ '^[0-9 ]*$'::text)                      |
| auth       | users                        | reauthentication_token_idx                                      | CREATE UNIQUE INDEX reauthentication_token_idx ON auth.users USING btree (reauthentication_token) WHERE ((reauthentication_token)::text !~ '^[0-9 ]*$'::text)                      |
| auth       | users                        | recovery_token_idx                                              | CREATE UNIQUE INDEX recovery_token_idx ON auth.users USING btree (recovery_token) WHERE ((recovery_token)::text !~ '^[0-9 ]*$'::text)                                              |
| auth       | users                        | users_email_partial_key                                         | CREATE UNIQUE INDEX users_email_partial_key ON auth.users USING btree (email) WHERE (is_sso_user = false)                                                                          |
| auth       | users                        | users_instance_id_email_idx                                     | CREATE INDEX users_instance_id_email_idx ON auth.users USING btree (instance_id, lower((email)::text))                                                                             |
| auth       | users                        | users_instance_id_idx                                           | CREATE INDEX users_instance_id_idx ON auth.users USING btree (instance_id)                                                                                                         |
| auth       | users                        | users_is_anonymous_idx                                          | CREATE INDEX users_is_anonymous_idx ON auth.users USING btree (is_anonymous)                                                                                                       |
| auth       | users                        | users_phone_key                                                 | CREATE UNIQUE INDEX users_phone_key ON auth.users USING btree (phone)                                                                                                              |
| auth       | users                        | users_pkey                                                      | CREATE UNIQUE INDEX users_pkey ON auth.users USING btree (id)                                                                                                                      |
| cron       | job                          | job_pkey                                                        | CREATE UNIQUE INDEX job_pkey ON cron.job USING btree (jobid)                                                                                                                       |
| cron       | job                          | jobname_username_uniq                                           | CREATE UNIQUE INDEX jobname_username_uniq ON cron.job USING btree (jobname, username)                                                                                              |
| cron       | job_run_details              | job_run_details_pkey                                            | CREATE UNIQUE INDEX job_run_details_pkey ON cron.job_run_details USING btree (runid)                                                                                               |
| extensions | spatial_ref_sys              | spatial_ref_sys_pkey                                            | CREATE UNIQUE INDEX spatial_ref_sys_pkey ON extensions.spatial_ref_sys USING btree (srid)                                                                                          |
| public     | active_agents                | active_agents_pkey                                              | CREATE UNIQUE INDEX active_agents_pkey ON public.active_agents USING btree (id)                                                                                                    |
| public     | active_agents                | active_agents_user_id_key                                       | CREATE UNIQUE INDEX active_agents_user_id_key ON public.active_agents USING btree (user_id)                                                                                        |
| public     | active_agents                | brin_active_agents_last_seen                                    | CREATE INDEX brin_active_agents_last_seen ON public.active_agents USING brin (last_seen) WITH (pages_per_range='64')                                                               |
| public     | active_agents                | idx_active_agents_connection_status                             | CREATE INDEX idx_active_agents_connection_status ON public.active_agents USING btree (connection_status)                                                                           |
| public     | active_agents                | idx_active_agents_last_seen                                     | CREATE INDEX idx_active_agents_last_seen ON public.active_agents USING btree (last_seen)                                                                                           |
| public     | active_agents                | idx_active_agents_location_gist                                 | CREATE INDEX idx_active_agents_location_gist ON public.active_agents USING gist (location_geo)                                                                                     |
| public     | active_agents                | idx_active_agents_online_partial                                | CREATE INDEX idx_active_agents_online_partial ON public.active_agents USING btree (connection_status) WHERE (connection_status = 'online'::text)                                   |
| public     | active_agents                | idx_active_agents_user_id                                       | CREATE INDEX idx_active_agents_user_id ON public.active_agents USING btree (user_id)                                                                                               |
| public     | admin_audit_log              | admin_audit_log_pkey                                            | CREATE UNIQUE INDEX admin_audit_log_pkey ON public.admin_audit_log USING btree (id)                                                                                                |
| public     | admin_users                  | admin_users_pkey                                                | CREATE UNIQUE INDEX admin_users_pkey ON public.admin_users USING btree (user_id)                                                                                                   |
| public     | agent_geofence_assignments   | agent_geofence_assignments_campaign_id_agent_id_status_key      | CREATE UNIQUE INDEX agent_geofence_assignments_campaign_id_agent_id_status_key ON public.agent_geofence_assignments USING btree (campaign_id, agent_id, status)                    |
| public     | agent_geofence_assignments   | agent_geofence_assignments_pkey                                 | CREATE UNIQUE INDEX agent_geofence_assignments_pkey ON public.agent_geofence_assignments USING btree (id)                                                                          |
| public     | agent_geofence_assignments   | idx_agent_geofence_assignments_campaign                         | CREATE INDEX idx_agent_geofence_assignments_campaign ON public.agent_geofence_assignments USING btree (campaign_id, agent_id)                                                      |
| public     | agent_geofence_assignments   | idx_agent_geofence_assignments_geofence                         | CREATE INDEX idx_agent_geofence_assignments_geofence ON public.agent_geofence_assignments USING btree (geofence_id, status)                                                        |
| public     | agent_location_tracking      | agent_location_tracking_pkey                                    | CREATE UNIQUE INDEX agent_location_tracking_pkey ON public.agent_location_tracking USING btree (id)                                                                                |
| public     | agent_location_tracking      | idx_agent_location_tracking_agent                               | CREATE INDEX idx_agent_location_tracking_agent ON public.agent_location_tracking USING btree (agent_id, recorded_at DESC)                                                          |
| public     | agent_location_tracking      | idx_agent_location_tracking_geofence                            | CREATE INDEX idx_agent_location_tracking_geofence ON public.agent_location_tracking USING btree (geofence_id, recorded_at DESC)                                                    |
| public     | agent_performance_summary    | idx_agent_performance_summary_agent_id                          | CREATE INDEX idx_agent_performance_summary_agent_id ON public.agent_performance_summary USING btree (agent_id)                                                                     |
| public     | app_settings                 | app_settings_pkey                                               | CREATE UNIQUE INDEX app_settings_pkey ON public.app_settings USING btree (id)                                                                                                      |
| public     | app_settings                 | app_settings_setting_key_key                                    | CREATE UNIQUE INDEX app_settings_setting_key_key ON public.app_settings USING btree (setting_key)                                                                                  |
| public     | app_settings                 | idx_app_settings_key                                            | CREATE INDEX idx_app_settings_key ON public.app_settings USING btree (setting_key)                                                                                                 |
| public     | app_settings                 | idx_app_settings_updated_at                                     | CREATE INDEX idx_app_settings_updated_at ON public.app_settings USING btree (updated_at)                                                                                           |
| public     | app_versions                 | app_versions_pkey                                               | CREATE UNIQUE INDEX app_versions_pkey ON public.app_versions USING btree (id)                                                                                                      |
| public     | app_versions                 | idx_app_versions_platform_active                                | CREATE INDEX idx_app_versions_platform_active ON public.app_versions USING btree (platform, is_active)                                                                             |
| public     | audit_log                    | audit_log_pkey                                                  | CREATE UNIQUE INDEX audit_log_pkey ON public.audit_log USING btree (id)                                                                                                            |
| public     | campaign_agents              | campaign_agents_pkey                                            | CREATE UNIQUE INDEX campaign_agents_pkey ON public.campaign_agents USING btree (campaign_id, agent_id)                                                                             |
| public     | campaign_agents              | idx_campaign_agents_agent_id                                    | CREATE INDEX idx_campaign_agents_agent_id ON public.campaign_agents USING btree (agent_id)                                                                                         |
| public     | campaign_agents              | idx_campaign_agents_campaign_id                                 | CREATE INDEX idx_campaign_agents_campaign_id ON public.campaign_agents USING btree (campaign_id)                                                                                   |
| public     | campaign_daily_participation | campaign_daily_participation_campaign_id_agent_id_participa_key | CREATE UNIQUE INDEX campaign_daily_participation_campaign_id_agent_id_participa_key ON public.campaign_daily_participation USING btree (campaign_id, agent_id, participation_date) |
| public     | campaign_daily_participation | campaign_daily_participation_pkey                               | CREATE UNIQUE INDEX campaign_daily_participation_pkey ON public.campaign_daily_participation USING btree (id)                                                                      |
| public     | campaign_daily_participation | idx_campaign_daily_participation_campaign_agent                 | CREATE INDEX idx_campaign_daily_participation_campaign_agent ON public.campaign_daily_participation USING btree (campaign_id, agent_id)                                            |
| public     | campaign_daily_participation | idx_campaign_daily_participation_date                           | CREATE INDEX idx_campaign_daily_participation_date ON public.campaign_daily_participation USING btree (participation_date)                                                         |
| public     | campaign_geofences           | campaign_geofences_pkey                                         | CREATE UNIQUE INDEX campaign_geofences_pkey ON public.campaign_geofences USING btree (id)                                                                                          |
| public     | campaign_geofences           | idx_campaign_geofences_active                                   | CREATE INDEX idx_campaign_geofences_active ON public.campaign_geofences USING btree (campaign_id, is_active)                                                                       |
| public     | campaign_geofences           | idx_campaign_geofences_campaign_id                              | CREATE INDEX idx_campaign_geofences_campaign_id ON public.campaign_geofences USING btree (campaign_id)                                                                             |

---

## 4) Security: RLS and Policies

```sql
-- Row-Level Security status per table
select n.nspname as schema,
       c.relname  as table,
       c.relrowsecurity as rls_enabled,
       c.relforcerowsecurity as rls_force
from pg_class c
join pg_namespace n on n.oid = c.relnamespace
where c.relkind in ('r','p')
  and n.nspname not in ('pg_catalog','information_schema')
order by 1, 2;
```
* 
| schema              | table                        | rls_enabled | rls_force |
| ------------------- | ---------------------------- | ----------- | --------- |
| auth                | audit_log_entries            | true        | false     |
| auth                | flow_state                   | true        | false     |
| auth                | identities                   | true        | false     |
| auth                | instances                    | true        | false     |
| auth                | mfa_amr_claims               | true        | false     |
| auth                | mfa_challenges               | true        | false     |
| auth                | mfa_factors                  | true        | false     |
| auth                | one_time_tokens              | true        | false     |
| auth                | refresh_tokens               | true        | false     |
| auth                | saml_providers               | true        | false     |
| auth                | saml_relay_states            | true        | false     |
| auth                | schema_migrations            | true        | false     |
| auth                | sessions                     | true        | false     |
| auth                | sso_domains                  | true        | false     |
| auth                | sso_providers                | true        | false     |
| auth                | users                        | true        | false     |
| cron                | job                          | true        | false     |
| cron                | job_run_details              | true        | false     |
| extensions          | spatial_ref_sys              | false       | false     |
| public              | active_agents                | true        | false     |
| public              | admin_audit_log              | true        | false     |
| public              | admin_users                  | true        | false     |
| public              | agent_geofence_assignments   | true        | false     |
| public              | agent_location_tracking      | true        | false     |
| public              | app_settings                 | true        | false     |
| public              | app_versions                 | true        | false     |
| public              | audit_log                    | true        | false     |
| public              | campaign_agents              | true        | false     |
| public              | campaign_daily_participation | true        | false     |
| public              | campaign_geofences           | true        | false     |
| public              | campaign_settings            | true        | false     |
| public              | campaigns                    | true        | false     |
| public              | evidence                     | true        | false     |
| public              | geofences                    | true        | false     |
| public              | global_survey_agents         | true        | false     |
| public              | global_survey_clients        | true        | false     |
| public              | global_survey_fields         | true        | false     |
| public              | global_survey_submissions    | true        | false     |
| public              | global_surveys               | true        | false     |
| public              | groups                       | true        | false     |
| public              | location_history             | true        | false     |
| public              | manager_template_access      | true        | false     |
| public              | notifications                | true        | false     |
| public              | password_reset_logs          | true        | false     |
| public              | payments                     | true        | false     |
| public              | place_visits                 | true        | false     |
| public              | places                       | true        | false     |
| public              | profiles                     | true        | false     |
| public              | report_exports               | true        | false     |
| public              | route_assignments            | true        | false     |
| public              | route_places                 | true        | false     |
| public              | routes                       | true        | false     |
| public              | sessions                     | true        | false     |
| public              | survey_fields                | true        | false     |
| public              | survey_submissions           | true        | false     |
| public              | task_assignments             | true        | false     |
| public              | task_dynamic_fields          | true        | false     |
| public              | task_templates               | true        | false     |
| public              | tasks                        | true        | false     |
| public              | template_categories          | true        | false     |
| public              | template_fields              | true        | false     |
| public              | template_usage_analytics     | true        | false     |
| public              | touring_task_assignments     | true        | false     |
| public              | touring_task_sessions        | true        | false     |
| public              | touring_task_surveys         | true        | false     |
| public              | touring_tasks                | true        | false     |
| public              | user_groups                  | true        | false     |
| realtime            | messages                     | true        | false     |
| realtime            | messages_2025_08_17          | false       | false     |
| realtime            | messages_2025_08_18          | false       | false     |
| realtime            | messages_2025_08_19          | false       | false     |
| realtime            | messages_2025_08_20          | false       | false     |
| realtime            | messages_2025_08_21          | false       | false     |
| realtime            | messages_2025_08_22          | false       | false     |
| realtime            | messages_2025_08_23          | false       | false     |
| realtime            | schema_migrations            | false       | false     |
| realtime            | subscription                 | false       | false     |
| storage             | buckets                      | true        | false     |
| storage             | buckets_analytics            | true        | false     |
| storage             | migrations                   | true        | false     |
| storage             | objects                      | true        | false     |
| storage             | prefixes                     | true        | false     |
| storage             | s3_multipart_uploads         | true        | false     |
| storage             | s3_multipart_uploads_parts   | true        | false     |
| supabase_migrations | schema_migrations            | false       | false     |
| topology            | layer                        | false       | false     |
| topology            | topology                     | false       | false     |
| vault               | secrets                      | false       | false     |

```sql
-- RLS policies (permissive vs restrictive, command, roles)
select schemaname as schema,
       tablename as table,
       policyname,
       permissive,
       roles,
       cmd,
       qual,
       with_check
from pg_policies
order by 1, 2, 3, 6;
```
* 
| schema | table                        | policyname                                                 | permissive | roles           | cmd    | qual                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | with_check                                                                                                                                                                                                                                                                                                            |
| ------ | ---------------------------- | ---------------------------------------------------------- | ---------- | --------------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| cron   | job                          | cron_job_policy                                            | PERMISSIVE | {public}        | ALL    | (username = CURRENT_USER)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | null                                                                                                                                                                                                                                                                                                                  |
| cron   | job_run_details              | cron_job_run_details_policy                                | PERMISSIVE | {public}        | ALL    | (username = CURRENT_USER)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | null                                                                                                                                                                                                                                                                                                                  |
| public | active_agents                | Simple allow all authenticated                             | PERMISSIVE | {authenticated} | SELECT | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public | active_agents                | Users can update own location                              | PERMISSIVE | {public}        | ALL    | (auth.uid() = user_id)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | (auth.uid() = user_id)                                                                                                                                                                                                                                                                                                |
| public | active_agents                | Users can view active agents                               | PERMISSIVE | {public}        | SELECT | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public | admin_audit_log              | Only admins can view audit log                             | PERMISSIVE | {public}        | SELECT | is_user_admin()                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | null                                                                                                                                                                                                                                                                                                                  |
| public | admin_audit_log              | System can insert audit log                                | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | true                                                                                                                                                                                                                                                                                                                  |
| public | admin_users                  | Only admins can manage admin_users                         | PERMISSIVE | {public}        | ALL    | is_user_admin()                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | is_user_admin()                                                                                                                                                                                                                                                                                                       |
| public | admin_users                  | Only admins can view admin_users                           | PERMISSIVE | {public}        | SELECT | is_user_admin()                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | null                                                                                                                                                                                                                                                                                                                  |
| public | agent_geofence_assignments   | Agent assignments manageable by admin/manager/self         | PERMISSIVE | {public}        | ALL    | ((agent_id = auth.uid()) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | null                                                                                                                                                                                                                                                                                                                  |
| public | agent_geofence_assignments   | Agent assignments viewable by involved parties             | PERMISSIVE | {public}        | SELECT | ((agent_id = auth.uid()) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | null                                                                                                                                                                                                                                                                                                                  |
| public | agent_location_tracking      | Location tracking insertable by agents                     | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | ((agent_id = auth.uid()) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))                                                                                                                                                                                                                            |
| public | agent_location_tracking      | Location tracking viewable by involved parties             | PERMISSIVE | {public}        | SELECT | ((agent_id = auth.uid()) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | null                                                                                                                                                                                                                                                                                                                  |
| public | app_settings                 | Admins only can manage app settings                        | PERMISSIVE | {authenticated} | ALL    | (( SELECT profiles.role
   FROM profiles
  WHERE (profiles.id = auth.uid())) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | (( SELECT profiles.role
   FROM profiles
  WHERE (profiles.id = auth.uid())) = 'admin'::text)                                                                                                                                                                                                                         |
| public | app_settings                 | Authenticated users can read app settings                  | PERMISSIVE | {authenticated} | SELECT | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public | app_versions                 | Anyone can read app versions                               | PERMISSIVE | {public}        | SELECT | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public | app_versions                 | Only admins can manage app versions                        | PERMISSIVE | {public}        | ALL    | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | null                                                                                                                                                                                                                                                                                                                  |
| public | audit_log                    | Admins can view audit logs                                 | PERMISSIVE | {public}        | SELECT | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | null                                                                                                                                                                                                                                                                                                                  |
| public | audit_log                    | System can insert audit logs                               | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | true                                                                                                                                                                                                                                                                                                                  |
| public | campaign_agents              | Allow view for managers or the assigned agent              | PERMISSIVE | {authenticated} | SELECT | ((( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])) OR (agent_id = ( SELECT auth.uid() AS uid)))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public | campaign_agents              | Campaign Agents: Allow DELETE for admins or managers       | PERMISSIVE | {authenticated} | DELETE | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | null                                                                                                                                                                                                                                                                                                                  |
| public | campaign_agents              | Campaign Agents: Allow INSERT for admins or managers       | PERMISSIVE | {authenticated} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                |
| public | campaign_agents              | Campaign Agents: Allow UPDATE for admins or managers       | PERMISSIVE | {authenticated} | UPDATE | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                |
| public | campaign_agents              | Clients view campaign agents                               | PERMISSIVE | {authenticated} | SELECT | (EXISTS ( SELECT 1
   FROM (campaigns c
     JOIN profiles p ON ((p.id = auth.uid())))
  WHERE ((c.id = campaign_agents.campaign_id) AND (c.client_id = p.id) AND (p.role = 'client'::text))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | null                                                                                                                                                                                                                                                                                                                  |
| public | campaign_daily_participation | campaign_daily_participation_insert_policy                 | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | ((auth.uid() = agent_id) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text]))))))                                                                                                                                             |
| public | campaign_daily_participation | campaign_daily_participation_select_policy                 | PERMISSIVE | {public}        | SELECT | ((auth.uid() = agent_id) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text]))))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | null                                                                                                                                                                                                                                                                                                                  |
| public | campaign_daily_participation | campaign_daily_participation_update_policy                 | PERMISSIVE | {public}        | UPDATE | ((auth.uid() = agent_id) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text]))))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | null                                                                                                                                                                                                                                                                                                                  |
| public | campaign_geofences           | Campaign geofences manageable by admin/manager             | PERMISSIVE | {public}        | ALL    | ((get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])) OR (created_by = auth.uid()))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | null                                                                                                                                                                                                                                                                                                                  |
| public | campaign_geofences           | Campaign geofences viewable by authenticated users         | PERMISSIVE | {public}        | SELECT | (auth.role() = 'authenticated'::text)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public | campaign_settings            | Campaign settings manageable by admin/manager              | PERMISSIVE | {public}        | ALL    | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text])))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | null                                                                                                                                                                                                                                                                                                                  |
| public | campaigns                    | Admin and managers can manage campaigns                    | PERMISSIVE | {public}        | ALL    | (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                         |
| public | campaigns                    | Authenticated users can view campaigns                     | PERMISSIVE | {public}        | SELECT | (auth.role() = 'authenticated'::text)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public | evidence                     | Agents can view evidence they uploaded                     | PERMISSIVE | {authenticated} | SELECT | ((( SELECT profiles.role
   FROM profiles
  WHERE (profiles.id = auth.uid())) = 'agent'::text) AND (auth.uid() = uploader_id))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | null                                                                                                                                                                                                                                                                                                                  |
| public | evidence                     | Authenticated
  users can view evidence                    | PERMISSIVE | {authenticated} | SELECT | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public | evidence                     | Evidence: Consolidated DELETE for authenticated            | PERMISSIVE | {authenticated} | DELETE | ((uploader_id = ( SELECT auth.uid() AS uid)) OR (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | null                                                                                                                                                                                                                                                                                                                  |
| public | evidence                     | Evidence: Consolidated INSERT for authenticated            | PERMISSIVE | {authenticated} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | ((uploader_id = ( SELECT auth.uid() AS uid)) OR (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])))                                                                                                                                                                               |
| public | evidence                     | Evidence: Consolidated SELECT for authenticated            | PERMISSIVE | {authenticated} | SELECT | ((uploader_id = ( SELECT auth.uid() AS uid)) OR (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | null                                                                                                                                                                                                                                                                                                                  |
| public | evidence                     | Evidence: Specific UPDATE for admin or manager             | PERMISSIVE | {authenticated} | UPDATE | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                |
| public | evidence                     | Managers can update evidence status for their group agents | PERMISSIVE | {public}        | UPDATE | ((EXISTS ( SELECT 1
   FROM user_groups ug
  WHERE ((ug.user_id = auth.uid()) AND (ug.group_id IN ( SELECT ug2.group_id
           FROM user_groups ug2
          WHERE (ug2.user_id = evidence.uploader_id))) AND (EXISTS ( SELECT 1
           FROM profiles p
          WHERE ((p.id = auth.uid()) AND (p.role = ANY (ARRAY['admin'::text, 'manager'::text])))))))) OR (EXISTS ( SELECT 1
   FROM profiles p
  WHERE ((p.id = auth.uid()) AND (p.role = 'admin'::text)))))                                                                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                                                                                  |
| public | evidence                     | Users can insert
   their own evidence                     | PERMISSIVE | {authenticated} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | (auth.uid() = uploader_id)                                                                                                                                                                                                                                                                                            |
| public | evidence                     | agents_route_evidence_insert                               | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | ((auth.uid() = uploader_id) AND ((task_assignment_id IS NOT NULL) OR ((route_assignment_id IS NOT NULL) AND (EXISTS ( SELECT 1
   FROM route_assignments ra
  WHERE ((ra.id = evidence.route_assignment_id) AND (ra.agent_id = auth.uid()) AND (ra.status = ANY (ARRAY['assigned'::text, 'in_progress'::text])))))))) |
| public | evidence                     | agents_route_evidence_select                               | PERMISSIVE | {public}        | SELECT | ((auth.uid() = uploader_id) OR ((route_assignment_id IS NOT NULL) AND (EXISTS ( SELECT 1
   FROM route_assignments ra
  WHERE ((ra.id = evidence.route_assignment_id) AND (ra.agent_id = auth.uid()))))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | null                                                                                                                                                                                                                                                                                                                  |
| public | evidence                     | managers_route_evidence_select                             | PERMISSIVE | {public}        | SELECT | (EXISTS ( SELECT 1
   FROM profiles p
  WHERE ((p.id = auth.uid()) AND (p.role = ANY (ARRAY['manager'::text, 'admin'::text])) AND (((evidence.task_assignment_id IS NOT NULL) AND (EXISTS ( SELECT 1
           FROM ((task_assignments ta
             JOIN user_groups ug ON ((ta.agent_id = ug.user_id)))
             JOIN user_groups mg ON ((ug.group_id = mg.group_id)))
          WHERE ((ta.id = evidence.task_assignment_id) AND (mg.user_id = auth.uid()))))) OR ((evidence.route_assignment_id IS NOT NULL) AND (EXISTS ( SELECT 1
           FROM ((route_assignments ra
             JOIN user_groups ug ON ((ra.agent_id = ug.user_id)))
             JOIN user_groups mg ON ((ug.group_id = mg.group_id)))
          WHERE ((ra.id = evidence.route_assignment_id) AND (mg.user_id = auth.uid()))))))))) | null                                                                                                                                                                                                                                                                                                                  |
| public | evidence                     | managers_route_evidence_update                             | PERMISSIVE | {public}        | UPDATE | (EXISTS ( SELECT 1
   FROM profiles p
  WHERE ((p.id = auth.uid()) AND (p.role = ANY (ARRAY['manager'::text, 'admin'::text])) AND (((evidence.task_assignment_id IS NOT NULL) AND (EXISTS ( SELECT 1
           FROM ((task_assignments ta
             JOIN user_groups ug ON ((ta.agent_id = ug.user_id)))
             JOIN user_groups mg ON ((ug.group_id = mg.group_id)))
          WHERE ((ta.id = evidence.task_assignment_id) AND (mg.user_id = auth.uid()))))) OR ((evidence.route_assignment_id IS NOT NULL) AND (EXISTS ( SELECT 1
           FROM ((route_assignments ra
             JOIN user_groups ug ON ((ra.agent_id = ug.user_id)))
             JOIN user_groups mg ON ((ug.group_id = mg.group_id)))
          WHERE ((ra.id = evidence.route_assignment_id) AND (mg.user_id = auth.uid()))))))))) | null                                                                                                                                                                                                                                                                                                                  |
| public | geofences                    | Geofences: Allow DELETE by admin or manager                | PERMISSIVE | {authenticated} | DELETE | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | null                                                                                                                                                                                                                                                                                                                  |
| public | geofences                    | Geofences: Allow INSERT by admin or manager                | PERMISSIVE | {authenticated} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                |
| public | geofences                    | Geofences: Allow UPDATE by admin or manager                | PERMISSIVE | {authenticated} | UPDATE | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                |
| public | geofences                    | Geofences: Consolidated SELECT for authenticated           | PERMISSIVE | {authenticated} | SELECT | (((campaign_id IS NOT NULL) AND (EXISTS ( SELECT 1
   FROM campaign_agents ca
  WHERE ((ca.campaign_id = geofences.campaign_id) AND (ca.agent_id = auth.uid()))))) OR ((task_id IS NOT NULL) AND (EXISTS ( SELECT 1
   FROM task_assignments ta
  WHERE ((ta.task_id = geofences.task_id) AND (ta.agent_id = auth.uid()))))) OR ((task_id IS NOT NULL) AND (EXISTS ( SELECT 1
   FROM tasks t
  WHERE ((t.id = geofences.task_id) AND (t.created_by = auth.uid()))))) OR ((place_id IS NOT NULL) AND (EXISTS ( SELECT 1
   FROM (route_assignments ra
     JOIN route_places rp ON ((rp.route_id = ra.route_id)))
  WHERE ((rp.place_id = geofences.place_id) AND (ra.agent_id = auth.uid()) AND (ra.status <> 'cancelled'::text))))) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))                  | null                                                                                                                                                                                                                                                                                                                  |
| public | global_survey_agents         | Agents can view their survey assignments                   | PERMISSIVE | {public}        | SELECT | (agent_id = auth.uid())                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | null                                                                                                                                                                                                                                                                                                                  |
| public | global_survey_agents         | Managers can manage survey agent assignments               | PERMISSIVE | {public}        | ALL    | (EXISTS ( SELECT 1
   FROM global_surveys gs
  WHERE ((gs.id = global_survey_agents.survey_id) AND (gs.created_by = auth.uid()))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                                                                                  |
| public | global_survey_clients        | Clients can view their survey assignments                  | PERMISSIVE | {public}        | SELECT | (client_id = auth.uid())                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | null                                                                                                                                                                                                                                                                                                                  |
| public | global_survey_clients        | Managers can manage survey client assignments              | PERMISSIVE | {public}        | ALL    | (EXISTS ( SELECT 1
   FROM global_surveys gs
  WHERE ((gs.id = global_survey_clients.survey_id) AND (gs.created_by = auth.uid()))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | null                                                                                                                                                                                                                                                                                                                  |
| public | global_survey_fields         | Agents can view global survey fields                       | PERMISSIVE | {public}        | SELECT | (EXISTS ( SELECT 1
   FROM ((global_surveys gs
     JOIN campaigns c ON ((c.created_by = gs.created_by)))
     JOIN campaign_agents ca ON ((ca.campaign_id = c.id)))
  WHERE ((gs.id = global_survey_fields.survey_id) AND (ca.agent_id = auth.uid()))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | null                                                                                                                                                                                                                                                                                                                  |
| public | global_survey_fields         | Managers can manage global survey fields                   | PERMISSIVE | {public}        | ALL    | (EXISTS ( SELECT 1
   FROM global_surveys gs
  WHERE ((gs.id = global_survey_fields.survey_id) AND (gs.created_by = auth.uid()))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                                                                                  |
| public | global_survey_submissions    | Agents manage their global survey submissions              | PERMISSIVE | {public}        | ALL    | (agent_id = auth.uid())                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | null                                                                                                                                                                                                                                                                                                                  |
| public | global_survey_submissions    | Managers view global survey submissions                    | PERMISSIVE | {public}        | SELECT | (EXISTS ( SELECT 1
   FROM global_surveys gs
  WHERE ((gs.id = global_survey_submissions.survey_id) AND (gs.created_by = auth.uid()))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | null                                                                                                                                                                                                                                                                                                                  |
| public | global_surveys               | Agents can view global surveys                             | PERMISSIVE | {public}        | SELECT | (EXISTS ( SELECT 1
   FROM (campaigns c
     JOIN campaign_agents ca ON ((ca.campaign_id = c.id)))
  WHERE ((c.created_by = global_surveys.created_by) AND (ca.agent_id = auth.uid()))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | null                                                                                                                                                                                                                                                                                                                  |
| public | global_surveys               | Managers can manage global surveys                         | PERMISSIVE | {public}        | ALL    | (created_by = auth.uid())                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | null                                                                                                                                                                                                                                                                                                                  |
| public | groups                       | Admins and managers can manage groups                      | PERMISSIVE | {public}        | ALL    | (get_user_role_secure() = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | (get_user_role_secure() = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                |
| public | groups                       | All authenticated can view groups                          | PERMISSIVE | {public}        | SELECT | (auth.role() = 'authenticated'::text)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public | groups                       | Allow all authenticated to view groups                     | PERMISSIVE | {authenticated} | SELECT | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public | location_history             | Allow users to insert their own location                   | PERMISSIVE | {authenticated} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | (( SELECT auth.uid() AS uid) = user_id)                                                                                                                                                                                                                                                                               |
| public | location_history             | Allow view for managers or own history                     | PERMISSIVE | {authenticated} | SELECT | ((( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])) OR (( SELECT auth.uid() AS uid) = user_id))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | null                                                                                                                                                                                                                                                                                                                  |
| public | manager_template_access      | Admins can manage all manager template access              | PERMISSIVE | {public}        | ALL    | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | null                                                                                                                                                                                                                                                                                                                  |
| public | manager_template_access      | Managers can view their own template access                | PERMISSIVE | {public}        | SELECT | ((manager_id = auth.uid()) AND (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'manager'::text)))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | null                                                                                                                                                                                                                                                                                                                  |
| public | notifications                | Authenticated users can insert notifications               | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | (auth.role() = 'authenticated'::text)                                                                                                                                                                                                                                                                                 |
| public | notifications                | Users can update own notifications                         | PERMISSIVE | {public}        | UPDATE | (auth.uid() = recipient_id)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                                                                                  |
| public | notifications                | Users can view own notifications                           | PERMISSIVE | {public}        | SELECT | (auth.uid() = recipient_id)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                                                                                  |
| public | password_reset_logs          | Allow password reset logging                               | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | true                                                                                                                                                                                                                                                                                                                  |
| public | password_reset_logs          | Managers and admins can view
  password reset logs         | PERMISSIVE | {public}        | SELECT | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['manager'::text, 'admin'::text])))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | null                                                                                                                                                                                                                                                                                                                  |
| public | payments                     | Payments: Allow DELETE by admin or manager                 | PERMISSIVE | {authenticated} | DELETE | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | null                                                                                                                                                                                                                                                                                                                  |
| public | payments                     | Payments: Allow INSERT by admin or manager                 | PERMISSIVE | {authenticated} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                |
| public | payments                     | Payments: Allow UPDATE by admin or manager                 | PERMISSIVE | {authenticated} | UPDATE | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                |
| public | payments                     | Payments: Consolidated SELECT for authenticated            | PERMISSIVE | {authenticated} | SELECT | ((agent_id = ( SELECT auth.uid() AS uid)) OR (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public | payments                     | payments_insert_policy                                     | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text])))))                                                                                                                                                                          |
| public | payments                     | payments_select_policy                                     | PERMISSIVE | {public}        | SELECT | ((auth.uid() = agent_id) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text]))))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | null                                                                                                                                                                                                                                                                                                                  |
| public | payments                     | payments_update_policy                                     | PERMISSIVE | {public}        | UPDATE | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text])))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | null                                                                                                                                                                                                                                                                                                                  |
| public | place_visits                 | place_visits_agent_own                                     | PERMISSIVE | {authenticated} | ALL    | (agent_id = auth.uid())                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | (agent_id = auth.uid())                                                                                                                                                                                                                                                                                               |
| public | place_visits                 | place_visits_manager_admin_all                             | PERMISSIVE | {authenticated} | ALL    | (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                         |
| public | places                       | places_agent_insert                                        | PERMISSIVE | {authenticated} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | ((get_my_role() = 'agent'::text) AND (created_by = auth.uid()) AND (approval_status = 'pending'::text))                                                                                                                                                                                                               |
| public | places                       | places_agent_read                                          | PERMISSIVE | {authenticated} | SELECT | (((approval_status = 'approved'::text) AND (status = 'active'::text)) OR (created_by = auth.uid()))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | null                                                                                                                                                                                                                                                                                                                  |
| public | places                       | places_manager_admin_all                                   | PERMISSIVE | {authenticated} | ALL    | (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                         |
| public | profiles                     | Simple insert                                              | PERMISSIVE | {authenticated} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | (auth.uid() = id)                                                                                                                                                                                                                                                                                                     |
| public | profiles                     | Simple read access                                         | PERMISSIVE | {authenticated} | SELECT | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public | profiles                     | Simple update own                                          | PERMISSIVE | {authenticated} | UPDATE | (auth.uid() = id)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | (auth.uid() = id)                                                                                                                                                                                                                                                                                                     |
| public | profiles                     | Users can delete own profile or admins can delete any      | PERMISSIVE | {public}        | DELETE | ((auth.uid() = id) OR is_user_admin())                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | null                                                                                                                                                                                                                                                                                                                  |
| public | report_exports               | Admins can view all report exports                         | PERMISSIVE | {public}        | SELECT | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | null                                                                                                                                                                                                                                                                                                                  |
| public | report_exports               | Users can create their own report exports                  | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | (auth.uid() = user_id)                                                                                                                                                                                                                                                                                                |
| public | report_exports               | Users can view their own report exports                    | PERMISSIVE | {public}        | SELECT | (auth.uid() = user_id)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | null                                                                                                                                                                                                                                                                                                                  |
| public | route_assignments            | route_assignments_agent_own                                | PERMISSIVE | {authenticated} | ALL    | (agent_id = auth.uid())                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | (agent_id = auth.uid())                                                                                                                                                                                                                                                                                               |
| public | route_assignments            | route_assignments_manager_admin_all                        | PERMISSIVE | {authenticated} | ALL    | (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                         |
| public | route_places                 | route_places_agent_read                                    | PERMISSIVE | {authenticated} | SELECT | ((EXISTS ( SELECT 1
   FROM route_assignments ra
  WHERE ((ra.route_id = route_places.route_id) AND (ra.agent_id = auth.uid()) AND (ra.status <> 'cancelled'::text)))) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | null                                                                                                                                                                                                                                                                                                                  |
| public | route_places                 | route_places_manager_admin_all                             | PERMISSIVE | {authenticated} | ALL    | (EXISTS ( SELECT 1
   FROM routes r
  WHERE ((r.id = route_places.route_id) AND (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | (EXISTS ( SELECT 1
   FROM routes r
  WHERE ((r.id = route_places.route_id) AND (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))))                                                                                                                                                                      |
| public | routes                       | routes_agent_read                                          | PERMISSIVE | {authenticated} | SELECT | ((EXISTS ( SELECT 1
   FROM route_assignments ra
  WHERE ((ra.route_id = routes.id) AND (ra.agent_id = auth.uid()) AND (ra.status <> 'cancelled'::text)))) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | null                                                                                                                                                                                                                                                                                                                  |
| public | routes                       | routes_manager_admin_all                                   | PERMISSIVE | {authenticated} | ALL    | (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))                                                                                                                                                                                                                                                         |
| public | sessions                     | Users can delete their own sessions                        | PERMISSIVE | {public}        | DELETE | (auth.uid() = user_id)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | null                                                                                                                                                                                                                                                                                                                  |
| public | sessions                     | Users can insert their own sessions                        | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | (auth.uid() = user_id)                                                                                                                                                                                                                                                                                                |
| public | sessions                     | Users can update their own sessions                        | PERMISSIVE | {public}        | UPDATE | (auth.uid() = user_id)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | null                                                                                                                                                                                                                                                                                                                  |
| public | sessions                     | Users can view their own sessions                          | PERMISSIVE | {public}        | SELECT | (auth.uid() = user_id)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | null                                                                                                                                                                                                                                                                                                                  |
| public | survey_fields                | Agents can view survey fields                              | PERMISSIVE | {public}        | SELECT | (EXISTS ( SELECT 1
   FROM (((touring_task_surveys tts
     JOIN touring_tasks tt ON ((tts.touring_task_id = tt.id)))
     JOIN campaigns c ON ((tt.campaign_id = c.id)))
     JOIN campaign_agents ca ON ((c.id = ca.campaign_id)))
  WHERE ((tts.id = survey_fields.survey_id) AND (ca.agent_id = auth.uid()))))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                                                                                  |

```sql
-- Table privileges (who can do what)
select table_schema as schema,
       table_name,
       grantee,
       privilege_type,
       is_grantable
from information_schema.table_privileges
where table_schema not in ('pg_catalog','information_schema')
order by 1, 2, 3, 4;
```
* 
| schema | table_name        | grantee  | privilege_type | is_grantable |
| ------ | ----------------- | -------- | -------------- | ------------ |
| auth   | audit_log_entries | postgres | DELETE         | NO           |
| auth   | audit_log_entries | postgres | INSERT         | NO           |
| auth   | audit_log_entries | postgres | REFERENCES     | NO           |
| auth   | audit_log_entries | postgres | SELECT         | YES          |
| auth   | audit_log_entries | postgres | TRIGGER        | NO           |
| auth   | audit_log_entries | postgres | TRUNCATE       | NO           |
| auth   | audit_log_entries | postgres | UPDATE         | NO           |
| auth   | flow_state        | postgres | DELETE         | NO           |
| auth   | flow_state        | postgres | INSERT         | NO           |
| auth   | flow_state        | postgres | REFERENCES     | NO           |
| auth   | flow_state        | postgres | SELECT         | YES          |
| auth   | flow_state        | postgres | TRIGGER        | NO           |
| auth   | flow_state        | postgres | TRUNCATE       | NO           |
| auth   | flow_state        | postgres | UPDATE         | NO           |
| auth   | identities        | postgres | DELETE         | NO           |
| auth   | identities        | postgres | INSERT         | NO           |
| auth   | identities        | postgres | REFERENCES     | NO           |
| auth   | identities        | postgres | SELECT         | YES          |
| auth   | identities        | postgres | TRIGGER        | NO           |
| auth   | identities        | postgres | TRUNCATE       | NO           |
| auth   | identities        | postgres | UPDATE         | NO           |
| auth   | instances         | postgres | DELETE         | NO           |
| auth   | instances         | postgres | INSERT         | NO           |
| auth   | instances         | postgres | REFERENCES     | NO           |
| auth   | instances         | postgres | SELECT         | YES          |
| auth   | instances         | postgres | TRIGGER        | NO           |
| auth   | instances         | postgres | TRUNCATE       | NO           |
| auth   | instances         | postgres | UPDATE         | NO           |
| auth   | mfa_amr_claims    | postgres | DELETE         | NO           |
| auth   | mfa_amr_claims    | postgres | INSERT         | NO           |
| auth   | mfa_amr_claims    | postgres | REFERENCES     | NO           |
| auth   | mfa_amr_claims    | postgres | SELECT         | YES          |
| auth   | mfa_amr_claims    | postgres | TRIGGER        | NO           |
| auth   | mfa_amr_claims    | postgres | TRUNCATE       | NO           |
| auth   | mfa_amr_claims    | postgres | UPDATE         | NO           |
| auth   | mfa_challenges    | postgres | DELETE         | NO           |
| auth   | mfa_challenges    | postgres | INSERT         | NO           |
| auth   | mfa_challenges    | postgres | REFERENCES     | NO           |
| auth   | mfa_challenges    | postgres | SELECT         | YES          |
| auth   | mfa_challenges    | postgres | TRIGGER        | NO           |
| auth   | mfa_challenges    | postgres | TRUNCATE       | NO           |
| auth   | mfa_challenges    | postgres | UPDATE         | NO           |
| auth   | mfa_factors       | postgres | DELETE         | NO           |
| auth   | mfa_factors       | postgres | INSERT         | NO           |
| auth   | mfa_factors       | postgres | REFERENCES     | NO           |
| auth   | mfa_factors       | postgres | SELECT         | YES          |
| auth   | mfa_factors       | postgres | TRIGGER        | NO           |
| auth   | mfa_factors       | postgres | TRUNCATE       | NO           |
| auth   | mfa_factors       | postgres | UPDATE         | NO           |
| auth   | one_time_tokens   | postgres | DELETE         | NO           |
| auth   | one_time_tokens   | postgres | INSERT         | NO           |
| auth   | one_time_tokens   | postgres | REFERENCES     | NO           |
| auth   | one_time_tokens   | postgres | SELECT         | YES          |
| auth   | one_time_tokens   | postgres | TRIGGER        | NO           |
| auth   | one_time_tokens   | postgres | TRUNCATE       | NO           |
| auth   | one_time_tokens   | postgres | UPDATE         | NO           |
| auth   | refresh_tokens    | postgres | DELETE         | NO           |
| auth   | refresh_tokens    | postgres | INSERT         | NO           |
| auth   | refresh_tokens    | postgres | REFERENCES     | NO           |
| auth   | refresh_tokens    | postgres | SELECT         | YES          |
| auth   | refresh_tokens    | postgres | TRIGGER        | NO           |
| auth   | refresh_tokens    | postgres | TRUNCATE       | NO           |
| auth   | refresh_tokens    | postgres | UPDATE         | NO           |
| auth   | saml_providers    | postgres | DELETE         | NO           |
| auth   | saml_providers    | postgres | INSERT         | NO           |
| auth   | saml_providers    | postgres | REFERENCES     | NO           |
| auth   | saml_providers    | postgres | SELECT         | YES          |
| auth   | saml_providers    | postgres | TRIGGER        | NO           |
| auth   | saml_providers    | postgres | TRUNCATE       | NO           |
| auth   | saml_providers    | postgres | UPDATE         | NO           |
| auth   | saml_relay_states | postgres | DELETE         | NO           |
| auth   | saml_relay_states | postgres | INSERT         | NO           |
| auth   | saml_relay_states | postgres | REFERENCES     | NO           |
| auth   | saml_relay_states | postgres | SELECT         | YES          |
| auth   | saml_relay_states | postgres | TRIGGER        | NO           |
| auth   | saml_relay_states | postgres | TRUNCATE       | NO           |
| auth   | saml_relay_states | postgres | UPDATE         | NO           |
| auth   | schema_migrations | postgres | SELECT         | YES          |
| auth   | sessions          | postgres | DELETE         | NO           |
| auth   | sessions          | postgres | INSERT         | NO           |
| auth   | sessions          | postgres | REFERENCES     | NO           |
| auth   | sessions          | postgres | SELECT         | YES          |
| auth   | sessions          | postgres | TRIGGER        | NO           |
| auth   | sessions          | postgres | TRUNCATE       | NO           |
| auth   | sessions          | postgres | UPDATE         | NO           |
| auth   | sso_domains       | postgres | DELETE         | NO           |
| auth   | sso_domains       | postgres | INSERT         | NO           |
| auth   | sso_domains       | postgres | REFERENCES     | NO           |
| auth   | sso_domains       | postgres | SELECT         | YES          |
| auth   | sso_domains       | postgres | TRIGGER        | NO           |
| auth   | sso_domains       | postgres | TRUNCATE       | NO           |
| auth   | sso_domains       | postgres | UPDATE         | NO           |
| auth   | sso_providers     | postgres | DELETE         | NO           |
| auth   | sso_providers     | postgres | INSERT         | NO           |
| auth   | sso_providers     | postgres | REFERENCES     | NO           |
| auth   | sso_providers     | postgres | SELECT         | YES          |
| auth   | sso_providers     | postgres | TRIGGER        | NO           |
| auth   | sso_providers     | postgres | TRUNCATE       | NO           |
| auth   | sso_providers     | postgres | UPDATE         | NO           |
| auth   | users             | postgres | DELETE         | NO           |

```sql
-- Schema privileges
select n.nspname as schema,
       r.rolname  as grantee,
       p.privilege_type,
       p.is_grantable
from pg_namespace n
cross join lateral (
  select (aclexplode(coalesce(n.nspacl, acldefault('n', n.nspowner)))).*
) as acl(grantee, grantor, privilege_type, is_grantable)
join pg_roles r on r.oid = acl.grantee
where n.nspname not in ('pg_catalog','information_schema')
order by 1, 2, 3;
```
* 
ERROR:  42P01: missing FROM-clause entry for table "p"
LINE 3:        p.privilege_type,
               ^

```sql
-- Function privileges
select n.nspname as schema,
       p.proname  as function,
       r.rolname  as grantee,
       a.privilege_type,
       a.is_grantable
from pg_proc p
join pg_namespace n on n.oid = p.pronamespace
cross join lateral (
  select (aclexplode(coalesce(p.proacl, acldefault('f', p.proowner)))).*
) as a(grantee, grantor, privilege_type, is_grantable)
join pg_roles r on r.oid = a.grantee
where n.nspname not in ('pg_catalog','information_schema','pg_toast')
order by 1, 2, 3, 4;
```
* 
| schema     | function                       | grantee             | privilege_type | is_grantable |
| ---------- | ------------------------------ | ------------------- | -------------- | ------------ |
| auth       | email                          | supabase_auth_admin | EXECUTE        | false        |
| auth       | email                          | supabase_auth_admin | EXECUTE        | false        |
| auth       | email                          | supabase_auth_admin | EXECUTE        | false        |
| auth       | jwt                            | supabase_auth_admin | EXECUTE        | false        |
| auth       | jwt                            | supabase_auth_admin | EXECUTE        | false        |
| auth       | jwt                            | supabase_auth_admin | EXECUTE        | false        |
| auth       | jwt                            | supabase_auth_admin | EXECUTE        | false        |
| auth       | role                           | supabase_auth_admin | EXECUTE        | false        |
| auth       | role                           | supabase_auth_admin | EXECUTE        | false        |
| auth       | role                           | supabase_auth_admin | EXECUTE        | false        |
| auth       | uid                            | supabase_auth_admin | EXECUTE        | false        |
| auth       | uid                            | supabase_auth_admin | EXECUTE        | false        |
| auth       | uid                            | supabase_auth_admin | EXECUTE        | false        |
| cron       | alter_job                      | supabase_admin      | EXECUTE        | false        |
| cron       | alter_job                      | supabase_admin      | EXECUTE        | true         |
| cron       | job_cache_invalidate           | supabase_admin      | EXECUTE        | false        |
| cron       | job_cache_invalidate           | supabase_admin      | EXECUTE        | false        |
| cron       | job_cache_invalidate           | supabase_admin      | EXECUTE        | true         |
| cron       | schedule                       | supabase_admin      | EXECUTE        | false        |
| cron       | schedule                       | supabase_admin      | EXECUTE        | false        |
| cron       | schedule                       | supabase_admin      | EXECUTE        | true         |
| cron       | schedule                       | supabase_admin      | EXECUTE        | false        |
| cron       | schedule                       | supabase_admin      | EXECUTE        | false        |
| cron       | schedule                       | supabase_admin      | EXECUTE        | true         |
| cron       | schedule_in_database           | supabase_admin      | EXECUTE        | false        |
| cron       | schedule_in_database           | supabase_admin      | EXECUTE        | true         |
| cron       | unschedule                     | supabase_admin      | EXECUTE        | false        |
| cron       | unschedule                     | supabase_admin      | EXECUTE        | false        |
| cron       | unschedule                     | supabase_admin      | EXECUTE        | true         |
| cron       | unschedule                     | supabase_admin      | EXECUTE        | false        |
| cron       | unschedule                     | supabase_admin      | EXECUTE        | false        |
| cron       | unschedule                     | supabase_admin      | EXECUTE        | true         |
| extensions | _postgis_deprecate             | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_deprecate             | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_deprecate             | supabase_admin      | EXECUTE        | true         |
| extensions | _postgis_index_extent          | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_index_extent          | supabase_admin      | EXECUTE        | true         |
| extensions | _postgis_index_extent          | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_join_selectivity      | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_join_selectivity      | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_join_selectivity      | supabase_admin      | EXECUTE        | true         |
| extensions | _postgis_pgsql_version         | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_pgsql_version         | supabase_admin      | EXECUTE        | true         |
| extensions | _postgis_pgsql_version         | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_scripts_pgsql_version | supabase_admin      | EXECUTE        | true         |
| extensions | _postgis_scripts_pgsql_version | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_scripts_pgsql_version | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_selectivity           | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_selectivity           | supabase_admin      | EXECUTE        | true         |
| extensions | _postgis_selectivity           | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_stats                 | supabase_admin      | EXECUTE        | true         |
| extensions | _postgis_stats                 | supabase_admin      | EXECUTE        | false        |
| extensions | _postgis_stats                 | supabase_admin      | EXECUTE        | false        |
| extensions | _st_3ddfullywithin             | supabase_admin      | EXECUTE        | true         |
| extensions | _st_3ddfullywithin             | supabase_admin      | EXECUTE        | false        |
| extensions | _st_3ddfullywithin             | supabase_admin      | EXECUTE        | false        |
| extensions | _st_3ddwithin                  | supabase_admin      | EXECUTE        | false        |
| extensions | _st_3ddwithin                  | supabase_admin      | EXECUTE        | false        |
| extensions | _st_3ddwithin                  | supabase_admin      | EXECUTE        | true         |
| extensions | _st_3dintersects               | supabase_admin      | EXECUTE        | true         |
| extensions | _st_3dintersects               | supabase_admin      | EXECUTE        | false        |
| extensions | _st_3dintersects               | supabase_admin      | EXECUTE        | false        |
| extensions | _st_asgml                      | supabase_admin      | EXECUTE        | false        |
| extensions | _st_asgml                      | supabase_admin      | EXECUTE        | true         |
| extensions | _st_asgml                      | supabase_admin      | EXECUTE        | false        |
| extensions | _st_asx3d                      | supabase_admin      | EXECUTE        | true         |
| extensions | _st_asx3d                      | supabase_admin      | EXECUTE        | false        |
| extensions | _st_asx3d                      | supabase_admin      | EXECUTE        | false        |
| extensions | _st_bestsrid                   | supabase_admin      | EXECUTE        | false        |
| extensions | _st_bestsrid                   | supabase_admin      | EXECUTE        | false        |
| extensions | _st_bestsrid                   | supabase_admin      | EXECUTE        | true         |
| extensions | _st_bestsrid                   | supabase_admin      | EXECUTE        | false        |
| extensions | _st_bestsrid                   | supabase_admin      | EXECUTE        | false        |
| extensions | _st_bestsrid                   | supabase_admin      | EXECUTE        | true         |
| extensions | _st_contains                   | supabase_admin      | EXECUTE        | true         |
| extensions | _st_contains                   | supabase_admin      | EXECUTE        | false        |
| extensions | _st_contains                   | supabase_admin      | EXECUTE        | false        |
| extensions | _st_containsproperly           | supabase_admin      | EXECUTE        | true         |
| extensions | _st_containsproperly           | supabase_admin      | EXECUTE        | false        |
| extensions | _st_containsproperly           | supabase_admin      | EXECUTE        | false        |
| extensions | _st_coveredby                  | supabase_admin      | EXECUTE        | false        |
| extensions | _st_coveredby                  | supabase_admin      | EXECUTE        | false        |
| extensions | _st_coveredby                  | supabase_admin      | EXECUTE        | false        |
| extensions | _st_coveredby                  | supabase_admin      | EXECUTE        | true         |
| extensions | _st_coveredby                  | supabase_admin      | EXECUTE        | false        |
| extensions | _st_coveredby                  | supabase_admin      | EXECUTE        | true         |
| extensions | _st_covers                     | supabase_admin      | EXECUTE        | false        |
| extensions | _st_covers                     | supabase_admin      | EXECUTE        | true         |
| extensions | _st_covers                     | supabase_admin      | EXECUTE        | false        |
| extensions | _st_covers                     | supabase_admin      | EXECUTE        | false        |
| extensions | _st_covers                     | supabase_admin      | EXECUTE        | false        |
| extensions | _st_covers                     | supabase_admin      | EXECUTE        | true         |
| extensions | _st_crosses                    | supabase_admin      | EXECUTE        | true         |
| extensions | _st_crosses                    | supabase_admin      | EXECUTE        | false        |
| extensions | _st_crosses                    | supabase_admin      | EXECUTE        | false        |
| extensions | _st_dfullywithin               | supabase_admin      | EXECUTE        | true         |
| extensions | _st_dfullywithin               | supabase_admin      | EXECUTE        | false        |
| extensions | _st_dfullywithin               | supabase_admin      | EXECUTE        | false        |
| extensions | _st_distancetree               | supabase_admin      | EXECUTE        | false        |
| extensions | _st_distancetree               | supabase_admin      | EXECUTE        | false        |

---

## 5) Triggers and Functions

```sql
-- Triggers
select n.nspname as schema,
       t.relname  as table,
       trg.tgname as trigger_name,
       pg_get_triggerdef(trg.oid, true) as definition,
       proc.proname as function_name
from pg_trigger trg
join pg_class t on t.oid = trg.tgrelid
join pg_namespace n on n.oid = t.relnamespace
left join pg_proc proc on proc.oid = trg.tgfoid
where not trg.tgisinternal
  and n.nspname not in ('pg_catalog','information_schema')
order by 1, 2, 3;
```
* 
| schema   | table                        | trigger_name                                             | definition                                                                                                                                                                                                       | function_name                             |
| -------- | ---------------------------- | -------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------- |
| auth     | users                        | on_auth_user_created                                     | CREATE TRIGGER on_auth_user_created AFTER INSERT ON auth.users FOR EACH ROW EXECUTE FUNCTION handle_new_user()                                                                                                   | handle_new_user                           |
| cron     | job                          | cron_job_cache_invalidate                                | CREATE TRIGGER cron_job_cache_invalidate AFTER INSERT OR DELETE OR UPDATE OR TRUNCATE ON cron.job FOR EACH STATEMENT EXECUTE FUNCTION cron.job_cache_invalidate()                                                | job_cache_invalidate                      |
| public   | active_agents                | sync_active_agents_trigger                               | CREATE TRIGGER sync_active_agents_trigger BEFORE INSERT OR UPDATE ON active_agents FOR EACH ROW EXECUTE FUNCTION sync_active_agents_fields()                                                                     | sync_active_agents_fields                 |
| public   | app_settings                 | app_settings_update_trigger                              | CREATE TRIGGER app_settings_update_trigger BEFORE UPDATE ON app_settings FOR EACH ROW EXECUTE FUNCTION update_app_settings_updated_at()                                                                          | update_app_settings_updated_at            |
| public   | campaign_agents              | on_new_agent_assignment_auto_assign_tasks                | CREATE TRIGGER on_new_agent_assignment_auto_assign_tasks AFTER INSERT ON campaign_agents FOR EACH ROW EXECUTE FUNCTION auto_assign_tasks_to_new_agent()                                                          | auto_assign_tasks_to_new_agent            |
| public   | campaign_daily_participation | update_campaign_daily_participation_updated_at           | CREATE TRIGGER update_campaign_daily_participation_updated_at BEFORE UPDATE ON campaign_daily_participation FOR EACH ROW EXECUTE FUNCTION update_updated_at_column()                                             | update_updated_at_column                  |
| public   | campaign_geofences           | trigger_sync_from_campaign_geofences                     | CREATE TRIGGER trigger_sync_from_campaign_geofences AFTER INSERT OR DELETE OR UPDATE ON campaign_geofences FOR EACH ROW EXECUTE FUNCTION sync_from_campaign_geofences()                                          | sync_from_campaign_geofences              |
| public   | campaign_geofences           | update_campaign_geofences_updated_at                     | CREATE TRIGGER update_campaign_geofences_updated_at BEFORE UPDATE ON campaign_geofences FOR EACH ROW EXECUTE FUNCTION update_updated_at_column()                                                                 | update_updated_at_column                  |
| public   | evidence                     | update_evidence_updated_at                               | CREATE TRIGGER update_evidence_updated_at BEFORE UPDATE ON evidence FOR EACH ROW EXECUTE FUNCTION update_updated_at_column()                                                                                     | update_updated_at_column                  |
| public   | geofences                    | trigger_sync_from_geofences                              | CREATE TRIGGER trigger_sync_from_geofences AFTER INSERT OR DELETE OR UPDATE ON geofences FOR EACH ROW EXECUTE FUNCTION sync_from_geofences()                                                                     | sync_from_geofences                       |
| public   | global_survey_submissions    | update_global_survey_submissions_updated_at              | CREATE TRIGGER update_global_survey_submissions_updated_at BEFORE UPDATE ON global_survey_submissions FOR EACH ROW EXECUTE FUNCTION update_updated_at_column()                                                   | update_updated_at_column                  |
| public   | global_surveys               | update_global_surveys_updated_at                         | CREATE TRIGGER update_global_surveys_updated_at BEFORE UPDATE ON global_surveys FOR EACH ROW EXECUTE FUNCTION update_updated_at_column()                                                                         | update_updated_at_column                  |
| public   | groups                       | update_groups_updated_at                                 | CREATE TRIGGER update_groups_updated_at BEFORE UPDATE ON groups FOR EACH ROW EXECUTE FUNCTION update_updated_at_column()                                                                                         | update_updated_at_column                  |
| public   | manager_template_access      | trigger_update_manager_template_access_updated_at        | CREATE TRIGGER trigger_update_manager_template_access_updated_at BEFORE UPDATE ON manager_template_access FOR EACH ROW EXECUTE FUNCTION update_manager_template_access_updated_at()                              | update_manager_template_access_updated_at |
| public   | notifications                | notifications_updated_at                                 | CREATE TRIGGER notifications_updated_at BEFORE UPDATE ON notifications FOR EACH ROW EXECUTE FUNCTION handle_updated_at()                                                                                         | handle_updated_at                         |
| public   | payments                     | update_payments_updated_at                               | CREATE TRIGGER update_payments_updated_at BEFORE UPDATE ON payments FOR EACH ROW EXECUTE FUNCTION update_updated_at_column()                                                                                     | update_updated_at_column                  |
| public   | place_visits                 | enforce_single_active_checkin                            | CREATE TRIGGER enforce_single_active_checkin BEFORE INSERT OR UPDATE ON place_visits FOR EACH ROW EXECUTE FUNCTION check_active_checkin()                                                                        | check_active_checkin                      |
| public   | place_visits                 | trigger_update_route_completion                          | CREATE TRIGGER trigger_update_route_completion AFTER INSERT OR UPDATE ON place_visits FOR EACH ROW EXECUTE FUNCTION update_route_assignment_completion()                                                         | update_route_assignment_completion        |
| public   | profiles                     | handle_updated_at                                        | CREATE TRIGGER handle_updated_at BEFORE UPDATE ON profiles FOR EACH ROW EXECUTE FUNCTION moddatetime()                                                                                                           | moddatetime                               |
| public   | route_assignments            | auto_checkout_on_route_assignment                        | CREATE TRIGGER auto_checkout_on_route_assignment AFTER INSERT ON route_assignments FOR EACH ROW EXECUTE FUNCTION auto_checkout_on_new_assignment()                                                               | auto_checkout_on_new_assignment           |
| public   | sessions                     | update_sessions_updated_at                               | CREATE TRIGGER update_sessions_updated_at BEFORE UPDATE ON sessions FOR EACH ROW EXECUTE FUNCTION update_updated_at_column()                                                                                     | update_updated_at_column                  |
| public   | survey_submissions           | update_survey_submissions_updated_at                     | CREATE TRIGGER update_survey_submissions_updated_at BEFORE UPDATE ON survey_submissions FOR EACH ROW EXECUTE FUNCTION update_updated_at_column()                                                                 | update_updated_at_column                  |
| public   | task_assignments             | auto_update_daily_participation_task_assignments         | CREATE TRIGGER auto_update_daily_participation_task_assignments AFTER UPDATE ON task_assignments FOR EACH ROW EXECUTE FUNCTION auto_update_daily_participation()                                                 | auto_update_daily_participation           |
| public   | task_assignments             | ensure_agent_in_campaign_trigger                         | CREATE TRIGGER ensure_agent_in_campaign_trigger AFTER UPDATE ON task_assignments FOR EACH ROW EXECUTE FUNCTION ensure_agent_in_campaign()                                                                        | ensure_agent_in_campaign                  |
| public   | task_assignments             | sync_campaign_agents_trigger                             | CREATE TRIGGER sync_campaign_agents_trigger AFTER INSERT OR DELETE ON task_assignments FOR EACH ROW EXECUTE FUNCTION sync_campaign_agents_from_tasks()                                                           | sync_campaign_agents_from_tasks           |
| public   | task_templates               | task_templates_update_trigger                            | CREATE TRIGGER task_templates_update_trigger BEFORE UPDATE ON task_templates FOR EACH ROW EXECUTE FUNCTION update_updated_at_timestamp()                                                                         | update_updated_at_timestamp               |
| public   | tasks                        | on_new_task_created                                      | CREATE TRIGGER on_new_task_created AFTER INSERT ON tasks FOR EACH ROW EXECUTE FUNCTION auto_assign_new_task_to_agents()                                                                                          | auto_assign_new_task_to_agents            |
| public   | template_categories          | template_categories_update_trigger                       | CREATE TRIGGER template_categories_update_trigger BEFORE UPDATE ON template_categories FOR EACH ROW EXECUTE FUNCTION update_updated_at_timestamp()                                                               | update_updated_at_timestamp               |
| public   | touring_task_assignments     | auto_update_daily_participation_touring_task_assignments | CREATE TRIGGER auto_update_daily_participation_touring_task_assignments AFTER UPDATE ON touring_task_assignments FOR EACH ROW EXECUTE FUNCTION auto_update_daily_participation()                                 | auto_update_daily_participation           |
| public   | touring_task_assignments     | ensure_agent_in_campaign_touring_trigger                 | CREATE TRIGGER ensure_agent_in_campaign_touring_trigger AFTER UPDATE ON touring_task_assignments FOR EACH ROW EXECUTE FUNCTION ensure_agent_in_campaign_touring()                                                | ensure_agent_in_campaign_touring          |
| public   | touring_task_surveys         | update_touring_task_surveys_updated_at                   | CREATE TRIGGER update_touring_task_surveys_updated_at BEFORE UPDATE ON touring_task_surveys FOR EACH ROW EXECUTE FUNCTION update_updated_at_column()                                                             | update_updated_at_column                  |
| realtime | subscription                 | tr_check_filters                                         | CREATE TRIGGER tr_check_filters BEFORE INSERT OR UPDATE ON realtime.subscription FOR EACH ROW EXECUTE FUNCTION realtime.subscription_check_filters()                                                             | subscription_check_filters                |
| storage  | buckets                      | enforce_bucket_name_length_trigger                       | CREATE TRIGGER enforce_bucket_name_length_trigger BEFORE INSERT OR UPDATE OF name ON storage.buckets FOR EACH ROW EXECUTE FUNCTION storage.enforce_bucket_name_length()                                          | enforce_bucket_name_length                |
| storage  | objects                      | objects_delete_delete_prefix                             | CREATE TRIGGER objects_delete_delete_prefix AFTER DELETE ON storage.objects FOR EACH ROW EXECUTE FUNCTION storage.delete_prefix_hierarchy_trigger()                                                              | delete_prefix_hierarchy_trigger           |
| storage  | objects                      | objects_insert_create_prefix                             | CREATE TRIGGER objects_insert_create_prefix BEFORE INSERT ON storage.objects FOR EACH ROW EXECUTE FUNCTION storage.objects_insert_prefix_trigger()                                                               | objects_insert_prefix_trigger             |
| storage  | objects                      | objects_update_create_prefix                             | CREATE TRIGGER objects_update_create_prefix BEFORE UPDATE ON storage.objects FOR EACH ROW WHEN (new.name <> old.name OR new.bucket_id <> old.bucket_id) EXECUTE FUNCTION storage.objects_update_prefix_trigger() | objects_update_prefix_trigger             |
| storage  | objects                      | update_objects_updated_at                                | CREATE TRIGGER update_objects_updated_at BEFORE UPDATE ON storage.objects FOR EACH ROW EXECUTE FUNCTION storage.update_updated_at_column()                                                                       | update_updated_at_column                  |
| storage  | prefixes                     | prefixes_create_hierarchy                                | CREATE TRIGGER prefixes_create_hierarchy BEFORE INSERT ON storage.prefixes FOR EACH ROW WHEN (pg_trigger_depth() < 1) EXECUTE FUNCTION storage.prefixes_insert_trigger()                                         | prefixes_insert_trigger                   |
| storage  | prefixes                     | prefixes_delete_hierarchy                                | CREATE TRIGGER prefixes_delete_hierarchy AFTER DELETE ON storage.prefixes FOR EACH ROW EXECUTE FUNCTION storage.delete_prefix_hierarchy_trigger()                                                                | delete_prefix_hierarchy_trigger           |
| topology | layer                        | layer_integrity_checks                                   | CREATE TRIGGER layer_integrity_checks BEFORE DELETE OR UPDATE ON topology.layer FOR EACH ROW EXECUTE FUNCTION topology.layertrigger()                                                                            | layertrigger                              |

```sql
-- Functions (definitions)
select n.nspname as schema,
       p.proname  as function,
       l.lanname  as language,
       pg_get_functiondef(p.oid) as definition
from pg_proc p
join pg_namespace n on n.oid = p.pronamespace
join pg_language l on l.oid = p.prolang
where n.nspname not in ('pg_catalog','information_schema','pg_toast')
order by 1, 2;
```
* 
ERROR:  42809: "st_3dextent" is an aggregate function

---

## 6) Views (definitions)

```sql
-- View definitions
select v.table_schema as schema,
       v.table_name   as view,
       v.is_updatable,
       v.view_definition
from information_schema.views v
where v.table_schema not in ('pg_catalog','information_schema')
order by 1, 2;
```
* 
| schema     | view                        | is_updatable | view_definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ---------- | --------------------------- | ------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| extensions | geography_columns           | NO           | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| extensions | geometry_columns            | YES          | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| extensions | pg_stat_statements          | NO           |  SELECT pg_stat_statements.userid,
    pg_stat_statements.dbid,
    pg_stat_statements.toplevel,
    pg_stat_statements.queryid,
    pg_stat_statements.query,
    pg_stat_statements.plans,
    pg_stat_statements.total_plan_time,
    pg_stat_statements.min_plan_time,
    pg_stat_statements.max_plan_time,
    pg_stat_statements.mean_plan_time,
    pg_stat_statements.stddev_plan_time,
    pg_stat_statements.calls,
    pg_stat_statements.total_exec_time,
    pg_stat_statements.min_exec_time,
    pg_stat_statements.max_exec_time,
    pg_stat_statements.mean_exec_time,
    pg_stat_statements.stddev_exec_time,
    pg_stat_statements.rows,
    pg_stat_statements.shared_blks_hit,
    pg_stat_statements.shared_blks_read,
    pg_stat_statements.shared_blks_dirtied,
    pg_stat_statements.shared_blks_written,
    pg_stat_statements.local_blks_hit,
    pg_stat_statements.local_blks_read,
    pg_stat_statements.local_blks_dirtied,
    pg_stat_statements.local_blks_written,
    pg_stat_statements.temp_blks_read,
    pg_stat_statements.temp_blks_written,
    pg_stat_statements.blk_read_time,
    pg_stat_statements.blk_write_time,
    pg_stat_statements.temp_blk_read_time,
    pg_stat_statements.temp_blk_write_time,
    pg_stat_statements.wal_records,
    pg_stat_statements.wal_fpi,
    pg_stat_statements.wal_bytes,
    pg_stat_statements.jit_functions,
    pg_stat_statements.jit_generation_time,
    pg_stat_statements.jit_inlining_count,
    pg_stat_statements.jit_inlining_time,
    pg_stat_statements.jit_optimization_count,
    pg_stat_statements.jit_optimization_time,
    pg_stat_statements.jit_emission_count,
    pg_stat_statements.jit_emission_time
   FROM pg_stat_statements(true) pg_stat_statements(userid, dbid, toplevel, queryid, query, plans, total_plan_time, min_plan_time, max_plan_time, mean_plan_time, stddev_plan_time, calls, total_exec_time, min_exec_time, max_exec_time, mean_exec_time, stddev_exec_time, rows, shared_blks_hit, shared_blks_read, shared_blks_dirtied, shared_blks_written, local_blks_hit, local_blks_read, local_blks_dirtied, local_blks_written, temp_blks_read, temp_blks_written, blk_read_time, blk_write_time, temp_blk_read_time, temp_blk_write_time, wal_records, wal_fpi, wal_bytes, jit_functions, jit_generation_time, jit_inlining_count, jit_inlining_time, jit_optimization_count, jit_optimization_time, jit_emission_count, jit_emission_time);                                                                                                                                                                                                                                                                               |
| extensions | pg_stat_statements_info     | NO           |  SELECT pg_stat_statements_info.dealloc,
    pg_stat_statements_info.stats_reset
   FROM pg_stat_statements_info() pg_stat_statements_info(dealloc, stats_reset);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| public     | location_history_app_format | YES          |  SELECT lh.id,
    lh.user_id,
    st_y((lh.location)::geometry) AS latitude,
    st_x((lh.location)::geometry) AS longitude,
    lh.accuracy,
    lh.speed,
    lh.recorded_at,
    lh.recorded_at AS created_at,
    lh.recorded_at AS timestamp_field
   FROM location_history lh;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| public     | route_completion_progress   | NO           |  SELECT ra.id AS route_assignment_id,
    ra.route_id,
    ra.agent_id,
    r.name AS route_name,
    count(DISTINCT rp.place_id) AS total_places,
    sum(rp.visit_frequency) AS total_required_visits,
    count(DISTINCT
        CASE
            WHEN (pv.status = 'completed'::text) THEN ((pv.place_id || '-'::text) || pv.visit_number)
            ELSE NULL::text
        END) AS completed_visits,
        CASE
            WHEN (sum(rp.visit_frequency) > 0) THEN (((count(DISTINCT
            CASE
                WHEN (pv.status = 'completed'::text) THEN ((pv.place_id || '-'::text) || pv.visit_number)
                ELSE NULL::text
            END))::double precision / (sum(rp.visit_frequency))::double precision) * (100)::double precision)
            ELSE (0)::double precision
        END AS completion_percentage,
        CASE
            WHEN (count(DISTINCT
            CASE
                WHEN (pv.status = 'completed'::text) THEN ((pv.place_id || '-'::text) || pv.visit_number)
                ELSE NULL::text
            END) >= sum(rp.visit_frequency)) THEN true
            ELSE false
        END AS is_fully_completed
   FROM (((route_assignments ra
     JOIN routes r ON ((r.id = ra.route_id)))
     JOIN route_places rp ON ((rp.route_id = ra.route_id)))
     LEFT JOIN place_visits pv ON (((pv.route_assignment_id = ra.id) AND (pv.place_id = rp.place_id))))
  GROUP BY ra.id, ra.route_id, ra.agent_id, r.name;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| public     | user_status_view            | NO           |  SELECT p.id,
    p.full_name,
    p.username,
    p.role,
        CASE
            WHEN (p.last_heartbeat IS NULL) THEN 'offline'::text
            WHEN ((now() - p.last_heartbeat) < '00:01:00'::interval) THEN 'active'::text
            WHEN ((now() - p.last_heartbeat) < '00:15:00'::interval) THEN 'away'::text
            ELSE 'offline'::text
        END AS connection_status,
    p.last_heartbeat,
        CASE
            WHEN (p.last_heartbeat IS NULL) THEN 'Offline'::text
            WHEN ((now() - p.last_heartbeat) < '00:01:00'::interval) THEN 'Online'::text
            WHEN ((now() - p.last_heartbeat) < '00:15:00'::interval) THEN 'Away'::text
            ELSE 'Offline'::text
        END AS status_display,
        CASE
            WHEN (p.last_heartbeat IS NULL) THEN 'Never'::text
            WHEN ((now() - p.last_heartbeat) < '00:01:00'::interval) THEN 'Just now'::text
            WHEN ((now() - p.last_heartbeat) < '01:00:00'::interval) THEN ((EXTRACT(minute FROM (now() - p.last_heartbeat)))::integer || ' minutes ago'::text)
            WHEN ((now() - p.last_heartbeat) < '24:00:00'::interval) THEN ((EXTRACT(hour FROM (now() - p.last_heartbeat)))::integer || ' hours ago'::text)
            ELSE ((EXTRACT(day FROM (now() - p.last_heartbeat)))::integer || ' days ago'::text)
        END AS last_seen_text,
        CASE
            WHEN (EXISTS ( SELECT
               FROM information_schema.tables
              WHERE ((tables.table_name)::name = 'active_agents'::name))) THEN aa.last_location
            ELSE NULL::point
        END AS last_location,
        CASE
            WHEN (EXISTS ( SELECT
               FROM information_schema.tables
              WHERE ((tables.table_name)::name = 'active_agents'::name))) THEN aa.last_seen
            ELSE NULL::timestamp with time zone
        END AS location_last_seen
   FROM (profiles p
     LEFT JOIN ( SELECT active_agents.id,
            active_agents.user_id,
            active_agents.last_location,
            active_agents.last_seen,
            active_agents.accuracy,
            active_agents.speed,
            active_agents.created_at,
            active_agents.updated_at,
            active_agents.latitude,
            active_agents.longitude,
            active_agents.last_heartbeat,
            active_agents.battery_level,
            active_agents.connection_status,
            active_agents.location_geo
           FROM active_agents
          WHERE (EXISTS ( SELECT
                   FROM information_schema.tables
                  WHERE ((tables.table_name)::name = 'active_agents'::name)))) aa ON ((aa.user_id = p.id)))
  WHERE (p.status = 'active'::text); |
| vault      | decrypted_secrets           | YES          | null                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |


---

## 7) Supabase-Specific Helpful Queries

```sql
-- Storage buckets
-- (Skip if you don't use supabase/storage extension)
select *
from storage.buckets
order by id;
```
* 
| id            | name          | owner | created_at                    | updated_at                    | public | avif_autodetection | file_size_limit | allowed_mime_types | owner_id | type     |
| ------------- | ------------- | ----- | ----------------------------- | ----------------------------- | ------ | ------------------ | --------------- | ------------------ | -------- | -------- |
| app-releases  | app-releases  | null  | 2025-06-30 07:22:52.060637+00 | 2025-06-30 07:22:52.060637+00 | true   | false              | null            | null               | null     | STANDARD |
| app-updates   | app-updates   | null  | 2025-07-23 19:33:42.628662+00 | 2025-07-23 19:33:42.628662+00 | true   | false              | null            | null               | null     | STANDARD |
| task-evidence | task-evidence | null  | 2025-06-08 10:29:45.003284+00 | 2025-06-08 10:29:45.003284+00 | true   | false              | null            | null               | null     | STANDARD |

```sql
-- Storage objects by bucket (counts only)
-- (Skip if you don't use supabase/storage extension)
select bucket_id, count(*) as objects
from storage.objects
group by bucket_id
order by bucket_id;
```
* 
| bucket_id     | objects |
| ------------- | ------- |
| app-releases  | 2       |
| app-updates   | 1       |
| task-evidence | 55      |

```sql
-- Auth schema tables present (quick inventory)
select table_name
from information_schema.tables
where table_schema = 'auth'
order by table_name;
```
* 
| table_name        |
| ----------------- |
| audit_log_entries |
| flow_state        |
| identities        |
| instances         |
| mfa_amr_claims    |
| mfa_challenges    |
| mfa_factors       |
| one_time_tokens   |
| refresh_tokens    |
| saml_providers    |
| saml_relay_states |
| schema_migrations |
| sessions          |
| sso_domains       |
| sso_providers     |
| users             |

```sql
-- Realtime publication(s) if configured
select * from pg_publication order by pubname;
```
* 
| oid   | pubname                                | pubowner | puballtables | pubinsert | pubupdate | pubdelete | pubtruncate | pubviaroot |
| ----- | -------------------------------------- | -------- | ------------ | --------- | --------- | --------- | ----------- | ---------- |
| 16420 | supabase_realtime                      | 16384    | false        | true      | true      | true      | true        | false      |
| 20313 | supabase_realtime_messages_publication | 10       | false        | true      | true      | true      | true        | false      |

---

## 8) Optional: Compact JSON Snapshots

-- These produce compact JSON to share a single row per artifact.
-- If large, prefer the sectioned queries above.

```sql
-- Tables → columns JSON
select jsonb_pretty(jsonb_agg(obj) filter (where obj is not null)) as tables
from (
  select jsonb_build_object(
           'schema', c.table_schema,
           'table',  c.table_name,
           'columns', jsonb_agg(
             jsonb_build_object(
               'name', c.column_name,
               'type', c.data_type,
               'nullable', (c.is_nullable = 'YES'),
               'default', c.column_default,
               'identity', c.is_identity,
               'generated', c.is_generated
             ) order by c.ordinal_position
           )
         ) as obj
  from information_schema.columns c
  where c.table_schema not in ('pg_catalog','information_schema')
  group by c.table_schema, c.table_name
  order by c.table_schema, c.table_name
) s;
```
* 
| tables                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [
    {
        "table": "audit_log_entries",
        "schema": "auth",
        "columns": [
            {
                "name": "instance_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "payload",
                "type": "json",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "ip_address",
                "type": "character varying",
                "default": "''::character varying",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "flow_state",
        "schema": "auth",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "auth_code",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "code_challenge_method",
                "type": "USER-DEFINED",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "code_challenge",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "provider_type",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "provider_access_token",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "provider_refresh_token",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "authentication_method",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "auth_code_issued_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "identities",
        "schema": "auth",
        "columns": [
            {
                "name": "provider_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "identity_data",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "provider",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "last_sign_in_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "email",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "ALWAYS"
            },
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "instances",
        "schema": "auth",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "uuid",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "raw_base_config",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "mfa_amr_claims",
        "schema": "auth",
        "columns": [
            {
                "name": "session_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "authentication_method",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "mfa_challenges",
        "schema": "auth",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "factor_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "verified_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "ip_address",
                "type": "inet",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "otp_code",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "web_authn_session_data",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "mfa_factors",
        "schema": "auth",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "friendly_name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "factor_type",
                "type": "USER-DEFINED",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "USER-DEFINED",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "secret",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "phone",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_challenged_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "web_authn_credential",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "web_authn_aaguid",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "one_time_tokens",
        "schema": "auth",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "token_type",
                "type": "USER-DEFINED",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "token_hash",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "relates_to",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "refresh_tokens",
        "schema": "auth",
        "columns": [
            {
                "name": "instance_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "id",
                "type": "bigint",
                "default": "nextval('auth.refresh_tokens_id_seq'::regclass)",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "token",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "revoked",
                "type": "boolean",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "parent",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "session_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "saml_providers",
        "schema": "auth",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "sso_provider_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "entity_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "metadata_xml",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "metadata_url",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "attribute_mapping",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "name_id_format",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "saml_relay_states",
        "schema": "auth",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "sso_provider_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "request_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "for_email",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "redirect_to",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "flow_state_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "schema_migrations",
        "schema": "auth",
        "columns": [
            {
                "name": "version",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "sessions",
        "schema": "auth",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "factor_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "aal",
                "type": "USER-DEFINED",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "not_after",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "refreshed_at",
                "type": "timestamp without time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "user_agent",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "ip",
                "type": "inet",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "tag",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "sso_domains",
        "schema": "auth",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "sso_provider_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "domain",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "sso_providers",
        "schema": "auth",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "resource_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "disabled",
                "type": "boolean",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "users",
        "schema": "auth",
        "columns": [
            {
                "name": "instance_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "aud",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "role",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "email",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "encrypted_password",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "email_confirmed_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "invited_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "confirmation_token",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "confirmation_sent_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "recovery_token",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "recovery_sent_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "email_change_token_new",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "email_change",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "email_change_sent_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_sign_in_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "raw_app_meta_data",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "raw_user_meta_data",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_super_admin",
                "type": "boolean",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "phone",
                "type": "text",
                "default": "NULL::character varying",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "phone_confirmed_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "phone_change",
                "type": "text",
                "default": "''::character varying",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "phone_change_token",
                "type": "character varying",
                "default": "''::character varying",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "phone_change_sent_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "confirmed_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "ALWAYS"
            },
            {
                "name": "email_change_token_current",
                "type": "character varying",
                "default": "''::character varying",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "email_change_confirm_status",
                "type": "smallint",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "banned_until",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "reauthentication_token",
                "type": "character varying",
                "default": "''::character varying",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "reauthentication_sent_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_sso_user",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "deleted_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_anonymous",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "job",
        "schema": "cron",
        "columns": [
            {
                "name": "jobid",
                "type": "bigint",
                "default": "nextval('cron.jobid_seq'::regclass)",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "schedule",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "command",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "nodename",
                "type": "text",
                "default": "'localhost'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "nodeport",
                "type": "integer",
                "default": "inet_server_port()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "database",
                "type": "text",
                "default": "current_database()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "username",
                "type": "text",
                "default": "CURRENT_USER",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "active",
                "type": "boolean",
                "default": "true",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "jobname",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "job_run_details",
        "schema": "cron",
        "columns": [
            {
                "name": "jobid",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "runid",
                "type": "bigint",
                "default": "nextval('cron.runid_seq'::regclass)",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "job_pid",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "database",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "username",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "command",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "return_message",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "start_time",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "end_time",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "geography_columns",
        "schema": "extensions",
        "columns": [
            {
                "name": "f_table_catalog",
                "type": "name",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "f_table_schema",
                "type": "name",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "f_table_name",
                "type": "name",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "f_geography_column",
                "type": "name",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "coord_dimension",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "srid",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "type",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "geometry_columns",
        "schema": "extensions",
        "columns": [
            {
                "name": "f_table_catalog",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "f_table_schema",
                "type": "name",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "f_table_name",
                "type": "name",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "f_geometry_column",
                "type": "name",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "coord_dimension",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "srid",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "type",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "pg_stat_statements",
        "schema": "extensions",
        "columns": [
            {
                "name": "userid",
                "type": "oid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "dbid",
                "type": "oid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "toplevel",
                "type": "boolean",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "queryid",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "query",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "plans",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "total_plan_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "min_plan_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "max_plan_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "mean_plan_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "stddev_plan_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "calls",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "total_exec_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "min_exec_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "max_exec_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "mean_exec_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "stddev_exec_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "rows",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "shared_blks_hit",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "shared_blks_read",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "shared_blks_dirtied",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "shared_blks_written",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "local_blks_hit",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "local_blks_read",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "local_blks_dirtied",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "local_blks_written",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "temp_blks_read",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "temp_blks_written",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "blk_read_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "blk_write_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "temp_blk_read_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "temp_blk_write_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "wal_records",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "wal_fpi",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "wal_bytes",
                "type": "numeric",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "jit_functions",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "jit_generation_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "jit_inlining_count",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "jit_inlining_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "jit_optimization_count",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "jit_optimization_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "jit_emission_count",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "jit_emission_time",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "pg_stat_statements_info",
        "schema": "extensions",
        "columns": [
            {
                "name": "dealloc",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "stats_reset",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "spatial_ref_sys",
        "schema": "extensions",
        "columns": [
            {
                "name": "srid",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "auth_name",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "auth_srid",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "srtext",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "proj4text",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "active_agents",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_location",
                "type": "point",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_seen",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "accuracy",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "speed",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "latitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "longitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_heartbeat",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "battery_level",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "connection_status",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "location_geo",
                "type": "USER-DEFINED",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "admin_audit_log",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "admin_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "action",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "target_user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "details",
                "type": "jsonb",
                "default": "'{}'::jsonb",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "admin_users",
        "schema": "public",
        "columns": [
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "agent_geofence_assignments",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "campaign_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "geofence_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "assigned_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'active'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "entry_time",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "exit_time",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "total_time_inside",
                "type": "interval",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "agent_location_tracking",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "campaign_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "geofence_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "latitude",
                "type": "numeric",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "longitude",
                "type": "numeric",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "accuracy",
                "type": "numeric",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_inside_geofence",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "recorded_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "app_settings",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "setting_key",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "setting_value",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "setting_type",
                "type": "text",
                "default": "'string'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "min_value",
                "type": "numeric",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "max_value",
                "type": "numeric",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "app_versions",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "version_code",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "version_name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "minimum_version_code",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "download_url",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "file_size_mb",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "release_notes",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "platform",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "is_active",
                "type": "boolean",
                "default": "true",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "audit_log",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "action",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "table_name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "record_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "old_data",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "new_data",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "ip_address",
                "type": "inet",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "user_agent",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "campaign_agents",
        "schema": "public",
        "columns": [
            {
                "name": "campaign_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "assigned_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "assigned_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "campaign_daily_participation",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "campaign_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "participation_date",
                "type": "date",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "hours_worked",
                "type": "numeric",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "tasks_completed",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "touring_tasks_completed",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "daily_points_earned",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "campaign_geofences",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "campaign_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "geometry",
                "type": "USER-DEFINED",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "area_text",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "max_agents",
                "type": "integer",
                "default": "1",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "color",
                "type": "text",
                "default": "'#2196F3'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "is_active",
                "type": "boolean",
                "default": "true",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "campaign_settings",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "campaign_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "setting_key",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "setting_value",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "data_type",
                "type": "text",
                "default": "'text'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "campaigns",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "start_date",
                "type": "date",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "end_date",
                "type": "date",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'pending'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "package_type",
                "type": "text",
                "default": "'economic'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "reset_status_daily",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "assigned_manager_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "client_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "evidence",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "task_assignment_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "uploader_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "title",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "file_url",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'pending'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "rejection_reason",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "reviewed_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "reviewed_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "captured_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "latitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "longitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "accuracy",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "mime_type",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "file_size",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "priority",
                "type": "text",
                "default": "'normal'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "place_visit_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "route_assignment_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "geofences",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "campaign_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "area",
                "type": "USER-DEFINED",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "task_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "color",
                "type": "text",
                "default": "'#808080'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "area_text",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "place_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "global_survey_agents",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "survey_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "assigned_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "global_survey_clients",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "survey_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "client_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "assigned_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "global_survey_fields",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "survey_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_name",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_type",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_label",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_placeholder",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "field_options",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_required",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "field_order",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "validation_rules",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "global_survey_submissions",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "survey_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "submission_data",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "submitted_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "latitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "longitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "global_surveys",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "title",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_required",
                "type": "boolean",
                "default": "true",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_active",
                "type": "boolean",
                "default": "true",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "groups",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "manager_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "location_history",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "location",
                "type": "USER-DEFINED",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "accuracy",
                "type": "real",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "speed",
                "type": "real",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "recorded_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "location_history_app_format",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "latitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "longitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "accuracy",
                "type": "real",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "speed",
                "type": "real",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "recorded_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "timestamp_field",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "manager_template_access",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "manager_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "template_categories",
                "type": "ARRAY",
                "default": "'{}'::text[]",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "notifications",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "recipient_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "sender_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "type",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "title",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "message",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "data",
                "type": "jsonb",
                "default": "'{}'::jsonb",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "read_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "password_reset_logs",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "reset_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "reset_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "payments",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "campaign_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "paid_by_manager_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "amount",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "paid_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "task_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "notes",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "payment_type",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "touring_task_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "payment_amount",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "bonus_amount",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "payment_method",
                "type": "text",
                "default": "'manual'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "USER-DEFINED",
                "default": "'pending'::payment_status",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "reference",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "processed_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "place_visits",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "route_assignment_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "place_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "checked_in_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "checked_out_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "duration_minutes",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "ALWAYS"
            },
            {
                "name": "check_in_latitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "check_in_longitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "check_out_latitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "check_out_longitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'pending'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "visit_notes",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "visit_number",
                "type": "integer",
                "default": "1",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "places",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "address",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "latitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "longitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'active'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "approval_status",
                "type": "text",
                "default": "'approved'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "approved_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "approved_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "rejection_reason",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "metadata",
                "type": "jsonb",
                "default": "'{}'::jsonb",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "location",
                "type": "USER-DEFINED",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "profiles",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "full_name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "role",
                "type": "text",
                "default": "'agent'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'active'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "fcm_token",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "username",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "agent_creation_limit",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "email",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "default_group_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "timezone",
                "type": "text",
                "default": "'Asia/Kuwait'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_heartbeat",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "connection_status",
                "type": "text",
                "default": "'offline'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "report_exports",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "report_type",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "filters_json",
                "type": "jsonb",
                "default": "'{}'::jsonb",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "row_count",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "file_size_bytes",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "download_url",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "expires_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'pending'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "error_message",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "completed_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "route_assignments",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "route_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "assigned_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "assigned_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'assigned'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "started_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "completed_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "notes",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "route_completion_progress",
        "schema": "public",
        "columns": [
            {
                "name": "route_assignment_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "route_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "route_name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "total_places",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "total_required_visits",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "completed_visits",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "completion_percentage",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_fully_completed",
                "type": "boolean",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "route_places",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "route_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "place_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "visit_order",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "estimated_duration_minutes",
                "type": "integer",
                "default": "30",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "required_evidence_count",
                "type": "integer",
                "default": "1",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "instructions",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "visit_frequency",
                "type": "integer",
                "default": "1",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "routes",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "assigned_manager_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "start_date",
                "type": "date",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "end_date",
                "type": "date",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'active'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "estimated_duration_hours",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "metadata",
                "type": "jsonb",
                "default": "'{}'::jsonb",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "sessions",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_active",
                "type": "boolean",
                "default": "true",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "survey_fields",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "survey_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_name",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_type",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_label",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_placeholder",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "field_options",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_required",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "field_order",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "validation_rules",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "survey_submissions",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "survey_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "session_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "touring_task_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "submission_data",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "submitted_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "latitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "longitude",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "task_assignments",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "task_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'assigned'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "started_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "completed_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "evidence_urls",
                "type": "ARRAY",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "task_dynamic_fields",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "task_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_type",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_label",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "placeholder_text",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_required",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "field_options",
                "type": "ARRAY",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "validation_rules",
                "type": "jsonb",
                "default": "'{}'::jsonb",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "help_text",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "sort_order",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "CURRENT_TIMESTAMP",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "task_templates",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "category_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "default_points",
                "type": "integer",
                "default": "10",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "requires_geofence",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "default_evidence_count",
                "type": "integer",
                "default": "1",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "template_config",
                "type": "jsonb",
                "default": "'{}'::jsonb",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "evidence_types",
                "type": "jsonb",
                "default": "'[\"image\"]'::jsonb",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "custom_instructions",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "estimated_duration",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "difficulty_level",
                "type": "text",
                "default": "'medium'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_active",
                "type": "boolean",
                "default": "true",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "task_type",
                "type": "text",
                "default": "'simpleEvidence'::text",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "tasks",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "campaign_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "title",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "points",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'pending'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "location_name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "start_date",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "end_date",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "required_evidence_count",
                "type": "integer",
                "default": "1",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "enforce_geofence",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "reset_status_daily",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "template_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "custom_fields",
                "type": "jsonb",
                "default": "'{}'::jsonb",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "template_version",
                "type": "integer",
                "default": "1",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "assigned_manager_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "template_categories",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "icon_name",
                "type": "text",
                "default": "'category'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "sort_order",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_active",
                "type": "boolean",
                "default": "true",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "template_fields",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "template_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "field_name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_type",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "field_label",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "placeholder_text",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_required",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "field_options",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "validation_rules",
                "type": "jsonb",
                "default": "'{}'::jsonb",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "sort_order",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "help_text",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "template_usage_analytics",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "template_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "task_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "completion_time",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "success_rate",
                "type": "numeric",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "completed_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "touring_task_assignments",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "touring_task_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "assigned_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "assigned_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'assigned'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "started_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "completed_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "touring_task_sessions",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "touring_task_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "agent_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "start_time",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "end_time",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "elapsed_seconds",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "is_active",
                "type": "boolean",
                "default": "true",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "is_paused",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "is_completed",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "last_movement_time",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_latitude",
                "type": "numeric",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_longitude",
                "type": "numeric",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "pause_reason",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_location_update",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "touring_task_surveys",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "touring_task_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "title",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_required",
                "type": "boolean",
                "default": "true",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "is_active",
                "type": "boolean",
                "default": "true",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "touring_tasks",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "campaign_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "geofence_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "title",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "required_time_minutes",
                "type": "integer",
                "default": "30",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "movement_timeout_seconds",
                "type": "integer",
                "default": "60",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "min_movement_threshold",
                "type": "numeric",
                "default": "5.0",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "points",
                "type": "integer",
                "default": "10",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "status",
                "type": "text",
                "default": "'pending'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "use_schedule",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "daily_start_time",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "daily_end_time",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "user_groups",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "group_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "user_status_view",
        "schema": "public",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "full_name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "username",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "role",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "connection_status",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_heartbeat",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "status_display",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_seen_text",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_location",
                "type": "point",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "location_last_seen",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "messages",
        "schema": "realtime",
        "columns": [
            {
                "name": "topic",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "extension",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "payload",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "event",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "private",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "inserted_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "messages_2025_08_17",
        "schema": "realtime",
        "columns": [
            {
                "name": "topic",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "extension",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "payload",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "event",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "private",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "inserted_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "messages_2025_08_18",
        "schema": "realtime",
        "columns": [
            {
                "name": "topic",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "extension",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "payload",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "event",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "private",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "inserted_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "messages_2025_08_19",
        "schema": "realtime",
        "columns": [
            {
                "name": "topic",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "extension",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "payload",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "event",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "private",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "inserted_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "messages_2025_08_20",
        "schema": "realtime",
        "columns": [
            {
                "name": "topic",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "extension",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "payload",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "event",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "private",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "inserted_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "messages_2025_08_21",
        "schema": "realtime",
        "columns": [
            {
                "name": "topic",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "extension",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "payload",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "event",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "private",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "inserted_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "messages_2025_08_22",
        "schema": "realtime",
        "columns": [
            {
                "name": "topic",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "extension",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "payload",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "event",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "private",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "inserted_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "messages_2025_08_23",
        "schema": "realtime",
        "columns": [
            {
                "name": "topic",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "extension",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "payload",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "event",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "private",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "inserted_at",
                "type": "timestamp without time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "schema_migrations",
        "schema": "realtime",
        "columns": [
            {
                "name": "version",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "inserted_at",
                "type": "timestamp without time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "subscription",
        "schema": "realtime",
        "columns": [
            {
                "name": "id",
                "type": "bigint",
                "default": null,
                "identity": "YES",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "subscription_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "entity",
                "type": "regclass",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "filters",
                "type": "ARRAY",
                "default": "'{}'::realtime.user_defined_filter[]",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "claims",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "claims_role",
                "type": "regrole",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "ALWAYS"
            },
            {
                "name": "created_at",
                "type": "timestamp without time zone",
                "default": "timezone('utc'::text, now())",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "buckets",
        "schema": "storage",
        "columns": [
            {
                "name": "id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "owner",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "public",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "avif_autodetection",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "file_size_limit",
                "type": "bigint",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "allowed_mime_types",
                "type": "ARRAY",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "owner_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "type",
                "type": "USER-DEFINED",
                "default": "'STANDARD'::storage.buckettype",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "buckets_analytics",
        "schema": "storage",
        "columns": [
            {
                "name": "id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "type",
                "type": "USER-DEFINED",
                "default": "'ANALYTICS'::storage.buckettype",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "format",
                "type": "text",
                "default": "'ICEBERG'::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "migrations",
        "schema": "storage",
        "columns": [
            {
                "name": "id",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "hash",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "executed_at",
                "type": "timestamp without time zone",
                "default": "CURRENT_TIMESTAMP",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "objects",
        "schema": "storage",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "bucket_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "owner",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "last_accessed_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "metadata",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "path_tokens",
                "type": "ARRAY",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "ALWAYS"
            },
            {
                "name": "version",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "owner_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "user_metadata",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "level",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "prefixes",
        "schema": "storage",
        "columns": [
            {
                "name": "bucket_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "level",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "ALWAYS"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "s3_multipart_uploads",
        "schema": "storage",
        "columns": [
            {
                "name": "id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "in_progress_size",
                "type": "bigint",
                "default": "0",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "upload_signature",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "bucket_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "key",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "version",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "owner_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "user_metadata",
                "type": "jsonb",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "s3_multipart_uploads_parts",
        "schema": "storage",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "upload_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "size",
                "type": "bigint",
                "default": "0",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "part_number",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "bucket_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "key",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "etag",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "owner_id",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "version",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "now()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "schema_migrations",
        "schema": "supabase_migrations",
        "columns": [
            {
                "name": "version",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "statements",
                "type": "ARRAY",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_by",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "idempotency_key",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "layer",
        "schema": "topology",
        "columns": [
            {
                "name": "topology_id",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "layer_id",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "schema_name",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "table_name",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "feature_column",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "feature_type",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "level",
                "type": "integer",
                "default": "0",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "child_id",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "topology",
        "schema": "topology",
        "columns": [
            {
                "name": "id",
                "type": "integer",
                "default": "nextval('topology.topology_id_seq'::regclass)",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "character varying",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "srid",
                "type": "integer",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "precision",
                "type": "double precision",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "hasz",
                "type": "boolean",
                "default": "false",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "decrypted_secrets",
        "schema": "vault",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "secret",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "decrypted_secret",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "key_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "nonce",
                "type": "bytea",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            }
        ]
    },
    {
        "table": "secrets",
        "schema": "vault",
        "columns": [
            {
                "name": "id",
                "type": "uuid",
                "default": "gen_random_uuid()",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "name",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "description",
                "type": "text",
                "default": "''::text",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "secret",
                "type": "text",
                "default": null,
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "key_id",
                "type": "uuid",
                "default": null,
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "nonce",
                "type": "bytea",
                "default": "vault._crypto_aead_det_noncegen()",
                "identity": "NO",
                "nullable": true,
                "generated": "NEVER"
            },
            {
                "name": "created_at",
                "type": "timestamp with time zone",
                "default": "CURRENT_TIMESTAMP",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            },
            {
                "name": "updated_at",
                "type": "timestamp with time zone",
                "default": "CURRENT_TIMESTAMP",
                "identity": "NO",
                "nullable": false,
                "generated": "NEVER"
            }
        ]
    }
] |

```sql
-- Policies JSON
select jsonb_pretty(jsonb_agg(
         jsonb_build_object(
           'schema', schemaname,
           'table', tablename,
           'policy', policyname,
           'permissive', permissive,
           'roles', roles,
           'cmd', cmd,
           'qual', qual,
           'with_check', with_check
         )
       ) ) as policies
from pg_policies;
```
* 
| policies                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [
    {
        "cmd": "SELECT",
        "qual": "((( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])) OR (agent_id = ( SELECT auth.uid() AS uid)))",
        "roles": [
            "authenticated"
        ],
        "table": "campaign_agents",
        "policy": "Allow view for managers or the assigned agent",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(is_active = true)",
        "roles": [
            "authenticated"
        ],
        "table": "template_categories",
        "policy": "Allow authenticated users to read template categories",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "((uploader_id = ( SELECT auth.uid() AS uid)) OR (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "authenticated"
        ],
        "table": "evidence",
        "policy": "Evidence: Consolidated SELECT for authenticated",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "evidence",
        "policy": "Evidence: Consolidated INSERT for authenticated",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "((uploader_id = ( SELECT auth.uid() AS uid)) OR (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])))"
    },
    {
        "cmd": "DELETE",
        "qual": "((uploader_id = ( SELECT auth.uid() AS uid)) OR (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "authenticated"
        ],
        "table": "evidence",
        "policy": "Evidence: Consolidated DELETE for authenticated",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "((EXISTS ( SELECT 1\n   FROM route_assignments ra\n  WHERE ((ra.route_id = route_places.route_id) AND (ra.agent_id = auth.uid()) AND (ra.status <> 'cancelled'::text)))) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "authenticated"
        ],
        "table": "route_places",
        "policy": "route_places_agent_read",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(EXISTS ( SELECT 1\n   FROM ((touring_task_surveys tts\n     JOIN touring_tasks tt ON ((tts.touring_task_id = tt.id)))\n     JOIN campaigns c ON ((tt.campaign_id = c.id)))\n  WHERE ((tts.id = survey_fields.survey_id) AND (c.created_by = auth.uid()))))",
        "roles": [
            "public"
        ],
        "table": "survey_fields",
        "policy": "Managers can manage survey fields",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM (((touring_task_surveys tts\n     JOIN touring_tasks tt ON ((tts.touring_task_id = tt.id)))\n     JOIN campaigns c ON ((tt.campaign_id = c.id)))\n     JOIN campaign_agents ca ON ((c.id = ca.campaign_id)))\n  WHERE ((tts.id = survey_fields.survey_id) AND (ca.agent_id = auth.uid()))))",
        "roles": [
            "public"
        ],
        "table": "survey_fields",
        "policy": "Agents can view survey fields",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "true",
        "roles": [
            "public"
        ],
        "table": "app_versions",
        "policy": "Anyone can read app versions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "location_history",
        "policy": "Allow users to insert their own location",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT auth.uid() AS uid) = user_id)"
    },
    {
        "cmd": "SELECT",
        "qual": "((( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])) OR (( SELECT auth.uid() AS uid) = user_id))",
        "roles": [
            "authenticated"
        ],
        "table": "location_history",
        "policy": "Allow view for managers or own history",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "place_visits",
        "policy": "place_visits_manager_admin_all",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "UPDATE",
        "qual": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "evidence",
        "policy": "Evidence: Specific UPDATE for admin or manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "DELETE",
        "qual": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "payments",
        "policy": "Payments: Allow DELETE by admin or manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(( SELECT profiles.role\n   FROM profiles\n  WHERE (profiles.id = auth.uid())) = 'admin'::text)",
        "roles": [
            "authenticated"
        ],
        "table": "template_categories",
        "policy": "Only admins can manage template categories",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT profiles.role\n   FROM profiles\n  WHERE (profiles.id = auth.uid())) = 'admin'::text)"
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "geofences",
        "policy": "Geofences: Allow INSERT by admin or manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "SELECT",
        "qual": "(bucket_id = 'task-evidence'::text)",
        "roles": [
            "public"
        ],
        "table": "objects",
        "policy": "Allow public read access on task-evidence",
        "schema": "storage",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "UPDATE",
        "qual": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "geofences",
        "policy": "Geofences: Allow UPDATE by admin or manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "places",
        "policy": "places_agent_insert",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "((get_my_role() = 'agent'::text) AND (created_by = auth.uid()) AND (approval_status = 'pending'::text))"
    },
    {
        "cmd": "SELECT",
        "qual": "(is_active = true)",
        "roles": [
            "authenticated"
        ],
        "table": "task_templates",
        "policy": "Allow authenticated users to read active task templates",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(agent_id = auth.uid())",
        "roles": [
            "authenticated"
        ],
        "table": "place_visits",
        "policy": "place_visits_agent_own",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(agent_id = auth.uid())"
    },
    {
        "cmd": "DELETE",
        "qual": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "geofences",
        "policy": "Geofences: Allow DELETE by admin or manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(agent_id = auth.uid())",
        "roles": [
            "public"
        ],
        "table": "survey_submissions",
        "policy": "Agents can manage their survey submissions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM ((touring_task_surveys tts\n     JOIN touring_tasks tt ON ((tts.touring_task_id = tt.id)))\n     JOIN campaigns c ON ((tt.campaign_id = c.id)))\n  WHERE ((tts.id = survey_submissions.survey_id) AND (c.created_by = auth.uid()))))",
        "roles": [
            "public"
        ],
        "table": "survey_submissions",
        "policy": "Managers can view survey submissions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(( SELECT profiles.role\n   FROM profiles\n  WHERE (profiles.id = auth.uid())) = 'admin'::text)",
        "roles": [
            "authenticated"
        ],
        "table": "task_templates",
        "policy": "Only admins can manage task templates",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT profiles.role\n   FROM profiles\n  WHERE (profiles.id = auth.uid())) = 'admin'::text)"
    },
    {
        "cmd": "ALL",
        "qual": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))",
        "roles": [
            "public"
        ],
        "table": "manager_template_access",
        "policy": "Admins can manage all manager template access",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(((campaign_id IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM campaign_agents ca\n  WHERE ((ca.campaign_id = geofences.campaign_id) AND (ca.agent_id = auth.uid()))))) OR ((task_id IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM task_assignments ta\n  WHERE ((ta.task_id = geofences.task_id) AND (ta.agent_id = auth.uid()))))) OR ((task_id IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM tasks t\n  WHERE ((t.id = geofences.task_id) AND (t.created_by = auth.uid()))))) OR ((place_id IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM (route_assignments ra\n     JOIN route_places rp ON ((rp.route_id = ra.route_id)))\n  WHERE ((rp.place_id = geofences.place_id) AND (ra.agent_id = auth.uid()) AND (ra.status <> 'cancelled'::text))))) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "authenticated"
        ],
        "table": "geofences",
        "policy": "Geofences: Consolidated SELECT for authenticated",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "objects",
        "policy": "Allow agent to upload evidence for their own assignment",
        "schema": "storage",
        "permissive": "PERMISSIVE",
        "with_check": "((bucket_id = 'task-evidence'::text) AND ((storage.foldername(name))[1] IN ( SELECT (task_assignments.id)::text AS id\n   FROM task_assignments\n  WHERE (task_assignments.agent_id = auth.uid()))))"
    },
    {
        "cmd": "SELECT",
        "qual": "((bucket_id = 'task-evidence'::text) AND ((get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])) OR ((storage.foldername(name))[1] IN ( SELECT (task_assignments.id)::text AS id\n   FROM task_assignments\n  WHERE (task_assignments.agent_id = auth.uid())))))",
        "roles": [
            "authenticated"
        ],
        "table": "objects",
        "policy": "Allow managers and assigned agent to view evidence",
        "schema": "storage",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "((agent_id = ( SELECT auth.uid() AS uid)) OR (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "authenticated"
        ],
        "table": "payments",
        "policy": "Payments: Consolidated SELECT for authenticated",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "true",
        "roles": [
            "authenticated"
        ],
        "table": "template_fields",
        "policy": "Allow authenticated users to read template fields",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "((manager_id = auth.uid()) AND (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'manager'::text)))))",
        "roles": [
            "public"
        ],
        "table": "manager_template_access",
        "policy": "Managers can view their own template access",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "((auth.uid() = uploader_id) OR ((route_assignment_id IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM route_assignments ra\n  WHERE ((ra.id = evidence.route_assignment_id) AND (ra.agent_id = auth.uid()))))))",
        "roles": [
            "public"
        ],
        "table": "evidence",
        "policy": "agents_route_evidence_select",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "true",
        "roles": [
            "authenticated"
        ],
        "table": "profiles",
        "policy": "Simple read access",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "((( SELECT profiles.role\n   FROM profiles\n  WHERE (profiles.id = auth.uid())) = 'agent'::text) AND (auth.uid() = uploader_id))",
        "roles": [
            "authenticated"
        ],
        "table": "evidence",
        "policy": "Agents can view evidence they uploaded",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(created_by = auth.uid())",
        "roles": [
            "public"
        ],
        "table": "global_surveys",
        "policy": "Managers can manage global surveys",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "objects",
        "policy": "Allow authenticated uploads to task-evidence",
        "schema": "storage",
        "permissive": "PERMISSIVE",
        "with_check": "(bucket_id = 'task-evidence'::text)"
    },
    {
        "cmd": "ALL",
        "qual": "(( SELECT profiles.role\n   FROM profiles\n  WHERE (profiles.id = auth.uid())) = 'admin'::text)",
        "roles": [
            "authenticated"
        ],
        "table": "template_fields",
        "policy": "Only admins can manage template fields",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT profiles.role\n   FROM profiles\n  WHERE (profiles.id = auth.uid())) = 'admin'::text)"
    },
    {
        "cmd": "UPDATE",
        "qual": "(auth.uid() = id)",
        "roles": [
            "authenticated"
        ],
        "table": "profiles",
        "policy": "Simple update own",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(auth.uid() = id)"
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "profiles",
        "policy": "Simple insert",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(auth.uid() = id)"
    },
    {
        "cmd": "UPDATE",
        "qual": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "tasks",
        "policy": "Tasks: Allow UPDATE by admin or manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "DELETE",
        "qual": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "tasks",
        "policy": "Tasks: Allow DELETE by admin or manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "true",
        "roles": [
            "authenticated"
        ],
        "table": "user_groups",
        "policy": "Allow all authenticated to view user groups",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "true",
        "roles": [
            "authenticated"
        ],
        "table": "user_groups",
        "policy": "Allow all authenticated to manage user groups",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "true"
    },
    {
        "cmd": "SELECT",
        "qual": "true",
        "roles": [
            "authenticated"
        ],
        "table": "groups",
        "policy": "Allow all authenticated to view groups",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(( SELECT profiles.role\n   FROM profiles\n  WHERE (profiles.id = auth.uid())) = 'admin'::text)",
        "roles": [
            "authenticated"
        ],
        "table": "template_usage_analytics",
        "policy": "Only admins can read template analytics",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "template_usage_analytics",
        "policy": "Allow system to insert template analytics",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "true"
    },
    {
        "cmd": "UPDATE",
        "qual": "true",
        "roles": [
            "authenticated"
        ],
        "table": "template_usage_analytics",
        "policy": "Allow system to update template analytics",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM task_assignments ta\n  WHERE ((ta.task_id = task_dynamic_fields.task_id) AND (ta.agent_id = auth.uid()) AND (ta.status = ANY (ARRAY['assigned'::text, 'in_progress'::text, 'completed'::text])))))",
        "roles": [
            "public"
        ],
        "table": "task_dynamic_fields",
        "policy": "Agents can read dynamic fields for assigned tasks",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(username = CURRENT_USER)",
        "roles": [
            "public"
        ],
        "table": "job",
        "policy": "cron_job_policy",
        "schema": "cron",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(username = CURRENT_USER)",
        "roles": [
            "public"
        ],
        "table": "job_run_details",
        "policy": "cron_job_run_details_policy",
        "schema": "cron",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "true",
        "roles": [
            "authenticated"
        ],
        "table": "evidence",
        "policy": "Authenticated\n  users can view evidence",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "evidence",
        "policy": "Users can insert\n   their own evidence",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(auth.uid() = uploader_id)"
    },
    {
        "cmd": "DELETE",
        "qual": "((bucket_id = 'task-evidence'::text) AND (auth.uid() = owner))",
        "roles": [
            "public"
        ],
        "table": "objects",
        "policy": "Allow agents to delete their own evidence files",
        "schema": "storage",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(auth.uid() = user_id)",
        "roles": [
            "public"
        ],
        "table": "sessions",
        "policy": "Users can view their own sessions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "campaign_agents",
        "policy": "Campaign Agents: Allow INSERT for admins or managers",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "UPDATE",
        "qual": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "campaign_agents",
        "policy": "Campaign Agents: Allow UPDATE for admins or managers",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "SELECT",
        "qual": "((( SELECT auth.uid() AS uid) = agent_id) OR (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "authenticated"
        ],
        "table": "task_assignments",
        "policy": "TaskAssignments: Consolidated SELECT for authenticated",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "UPDATE",
        "qual": "((( SELECT auth.uid() AS uid) = agent_id) OR (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "authenticated"
        ],
        "table": "task_assignments",
        "policy": "TaskAssignments: Consolidated UPDATE for authenticated",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "((( SELECT auth.uid() AS uid) = agent_id) OR (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])))"
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "public"
        ],
        "table": "evidence",
        "policy": "agents_route_evidence_insert",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "((auth.uid() = uploader_id) AND ((task_assignment_id IS NOT NULL) OR ((route_assignment_id IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM route_assignments ra\n  WHERE ((ra.id = evidence.route_assignment_id) AND (ra.agent_id = auth.uid()) AND (ra.status = ANY (ARRAY['assigned'::text, 'in_progress'::text]))))))))"
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = auth.uid()) AND (p.role = ANY (ARRAY['manager'::text, 'admin'::text])) AND (((evidence.task_assignment_id IS NOT NULL) AND (EXISTS ( SELECT 1\n           FROM ((task_assignments ta\n             JOIN user_groups ug ON ((ta.agent_id = ug.user_id)))\n             JOIN user_groups mg ON ((ug.group_id = mg.group_id)))\n          WHERE ((ta.id = evidence.task_assignment_id) AND (mg.user_id = auth.uid()))))) OR ((evidence.route_assignment_id IS NOT NULL) AND (EXISTS ( SELECT 1\n           FROM ((route_assignments ra\n             JOIN user_groups ug ON ((ra.agent_id = ug.user_id)))\n             JOIN user_groups mg ON ((ug.group_id = mg.group_id)))\n          WHERE ((ra.id = evidence.route_assignment_id) AND (mg.user_id = auth.uid())))))))))",
        "roles": [
            "public"
        ],
        "table": "evidence",
        "policy": "managers_route_evidence_select",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "DELETE",
        "qual": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "campaign_agents",
        "policy": "Campaign Agents: Allow DELETE for admins or managers",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "payments",
        "policy": "Payments: Allow INSERT by admin or manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "UPDATE",
        "qual": "(EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = auth.uid()) AND (p.role = ANY (ARRAY['manager'::text, 'admin'::text])) AND (((evidence.task_assignment_id IS NOT NULL) AND (EXISTS ( SELECT 1\n           FROM ((task_assignments ta\n             JOIN user_groups ug ON ((ta.agent_id = ug.user_id)))\n             JOIN user_groups mg ON ((ug.group_id = mg.group_id)))\n          WHERE ((ta.id = evidence.task_assignment_id) AND (mg.user_id = auth.uid()))))) OR ((evidence.route_assignment_id IS NOT NULL) AND (EXISTS ( SELECT 1\n           FROM ((route_assignments ra\n             JOIN user_groups ug ON ((ra.agent_id = ug.user_id)))\n             JOIN user_groups mg ON ((ug.group_id = mg.group_id)))\n          WHERE ((ra.id = evidence.route_assignment_id) AND (mg.user_id = auth.uid())))))))))",
        "roles": [
            "public"
        ],
        "table": "evidence",
        "policy": "managers_route_evidence_update",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "public"
        ],
        "table": "sessions",
        "policy": "Users can insert their own sessions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(auth.uid() = user_id)"
    },
    {
        "cmd": "UPDATE",
        "qual": "(auth.uid() = user_id)",
        "roles": [
            "public"
        ],
        "table": "sessions",
        "policy": "Users can update their own sessions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "DELETE",
        "qual": "(auth.uid() = user_id)",
        "roles": [
            "public"
        ],
        "table": "sessions",
        "policy": "Users can delete their own sessions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(agent_id = auth.uid())",
        "roles": [
            "authenticated"
        ],
        "table": "route_assignments",
        "policy": "route_assignments_agent_own",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(agent_id = auth.uid())"
    },
    {
        "cmd": "SELECT",
        "qual": "true",
        "roles": [
            "authenticated"
        ],
        "table": "active_agents",
        "policy": "Simple allow all authenticated",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(auth.role() = 'authenticated'::text)",
        "roles": [
            "public"
        ],
        "table": "campaigns",
        "policy": "Authenticated users can view campaigns",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "public"
        ],
        "table": "campaigns",
        "policy": "Admin and managers can manage campaigns",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "SELECT",
        "qual": "true",
        "roles": [
            "authenticated"
        ],
        "table": "app_settings",
        "policy": "Authenticated users can read app settings",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "((EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text]))))) OR (created_by = auth.uid()))",
        "roles": [
            "public"
        ],
        "table": "task_dynamic_fields",
        "policy": "Managers can manage dynamic fields",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM (campaigns c\n     JOIN campaign_agents ca ON ((ca.campaign_id = c.id)))\n  WHERE ((c.created_by = global_surveys.created_by) AND (ca.agent_id = auth.uid()))))",
        "roles": [
            "public"
        ],
        "table": "global_surveys",
        "policy": "Agents can view global surveys",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(EXISTS ( SELECT 1\n   FROM global_surveys gs\n  WHERE ((gs.id = global_survey_fields.survey_id) AND (gs.created_by = auth.uid()))))",
        "roles": [
            "public"
        ],
        "table": "global_survey_fields",
        "policy": "Managers can manage global survey fields",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM ((global_surveys gs\n     JOIN campaigns c ON ((c.created_by = gs.created_by)))\n     JOIN campaign_agents ca ON ((ca.campaign_id = c.id)))\n  WHERE ((gs.id = global_survey_fields.survey_id) AND (ca.agent_id = auth.uid()))))",
        "roles": [
            "public"
        ],
        "table": "global_survey_fields",
        "policy": "Agents can view global survey fields",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(auth.uid() = recipient_id)",
        "roles": [
            "public"
        ],
        "table": "notifications",
        "policy": "Users can view own notifications",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "is_user_admin()",
        "roles": [
            "public"
        ],
        "table": "admin_users",
        "policy": "Only admins can view admin_users",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "is_user_admin()",
        "roles": [
            "public"
        ],
        "table": "admin_users",
        "policy": "Only admins can manage admin_users",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "is_user_admin()"
    },
    {
        "cmd": "UPDATE",
        "qual": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "payments",
        "policy": "Payments: Allow UPDATE by admin or manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "UPDATE",
        "qual": "(auth.uid() = recipient_id)",
        "roles": [
            "public"
        ],
        "table": "notifications",
        "policy": "Users can update own notifications",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "public"
        ],
        "table": "notifications",
        "policy": "Authenticated users can insert notifications",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(auth.role() = 'authenticated'::text)"
    },
    {
        "cmd": "DELETE",
        "qual": "((auth.uid() = id) OR is_user_admin())",
        "roles": [
            "public"
        ],
        "table": "profiles",
        "policy": "Users can delete own profile or admins can delete any",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(get_user_role_secure() = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "public"
        ],
        "table": "groups",
        "policy": "Admins and managers can manage groups",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(get_user_role_secure() = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "SELECT",
        "qual": "(auth.role() = 'authenticated'::text)",
        "roles": [
            "public"
        ],
        "table": "groups",
        "policy": "All authenticated can view groups",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(agent_id = auth.uid())",
        "roles": [
            "public"
        ],
        "table": "global_survey_submissions",
        "policy": "Agents manage their global survey submissions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(auth.role() = 'authenticated'::text)",
        "roles": [
            "public"
        ],
        "table": "user_groups",
        "policy": "enable_all_for_authenticated_users",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM task_assignments ta\n  WHERE ((ta.task_id = task_dynamic_fields.task_id) AND (ta.agent_id = auth.uid()) AND (ta.status = ANY (ARRAY['pending'::text, 'assigned'::text, 'in_progress'::text, 'completed'::text])))))",
        "roles": [
            "public"
        ],
        "table": "task_dynamic_fields",
        "policy": "Agents can read dynamic fields for\n  assigned tasks",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "true",
        "roles": [
            "public"
        ],
        "table": "active_agents",
        "policy": "Users can view active agents",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(auth.uid() = user_id)",
        "roles": [
            "public"
        ],
        "table": "active_agents",
        "policy": "Users can update own location",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(auth.uid() = user_id)"
    },
    {
        "cmd": "SELECT",
        "qual": "((user_id = auth.uid()) OR (get_user_role_secure() = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "public"
        ],
        "table": "user_groups",
        "policy": "Users can view their own group memberships",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(get_user_role_secure() = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "public"
        ],
        "table": "user_groups",
        "policy": "Only admins and managers can manage user groups",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(get_user_role_secure() = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM (campaigns c\n     JOIN profiles p ON ((p.id = auth.uid())))\n  WHERE ((c.id = campaign_agents.campaign_id) AND (c.client_id = p.id) AND (p.role = 'client'::text))))",
        "roles": [
            "authenticated"
        ],
        "table": "campaign_agents",
        "policy": "Clients view campaign agents",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "is_user_admin()",
        "roles": [
            "public"
        ],
        "table": "admin_audit_log",
        "policy": "Only admins can view audit log",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "public"
        ],
        "table": "admin_audit_log",
        "policy": "System can insert audit log",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "true"
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "task_assignments",
        "policy": "TaskAssignments: Allow INSERT by admin or manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "DELETE",
        "qual": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "task_assignments",
        "policy": "TaskAssignments: Allow DELETE by admin or manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "((EXISTS ( SELECT 1\n   FROM task_assignments ta\n  WHERE ((ta.task_id = tasks.id) AND (ta.agent_id = ( SELECT auth.uid() AS uid))))) OR (( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "authenticated"
        ],
        "table": "tasks",
        "policy": "Tasks: Consolidated SELECT for authenticated",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "authenticated"
        ],
        "table": "tasks",
        "policy": "Tasks: Allow INSERT by admin or manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT get_my_role() AS get_my_role) = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "ALL",
        "qual": "(( SELECT profiles.role\n   FROM profiles\n  WHERE (profiles.id = auth.uid())) = 'admin'::text)",
        "roles": [
            "authenticated"
        ],
        "table": "app_settings",
        "policy": "Admins only can manage app settings",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(( SELECT profiles.role\n   FROM profiles\n  WHERE (profiles.id = auth.uid())) = 'admin'::text)"
    },
    {
        "cmd": "SELECT",
        "qual": "(auth.role() = 'authenticated'::text)",
        "roles": [
            "public"
        ],
        "table": "campaign_geofences",
        "policy": "Campaign geofences viewable by authenticated users",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "((get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])) OR (created_by = auth.uid()))",
        "roles": [
            "public"
        ],
        "table": "campaign_geofences",
        "policy": "Campaign geofences manageable by admin/manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "((agent_id = auth.uid()) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "public"
        ],
        "table": "agent_geofence_assignments",
        "policy": "Agent assignments viewable by involved parties",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['manager'::text, 'admin'::text])))))",
        "roles": [
            "public"
        ],
        "table": "password_reset_logs",
        "policy": "Managers and admins can view\n  password reset logs",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "public"
        ],
        "table": "password_reset_logs",
        "policy": "Allow password reset logging",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "true"
    },
    {
        "cmd": "ALL",
        "qual": "((agent_id = auth.uid()) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "public"
        ],
        "table": "agent_geofence_assignments",
        "policy": "Agent assignments manageable by admin/manager/self",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "((agent_id = auth.uid()) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "public"
        ],
        "table": "agent_location_tracking",
        "policy": "Location tracking viewable by involved parties",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "public"
        ],
        "table": "agent_location_tracking",
        "policy": "Location tracking insertable by agents",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "((agent_id = auth.uid()) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))"
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))",
        "roles": [
            "public"
        ],
        "table": "audit_log",
        "policy": "Admins can view audit logs",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "public"
        ],
        "table": "audit_log",
        "policy": "System can insert audit logs",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "true"
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM global_surveys gs\n  WHERE ((gs.id = global_survey_submissions.survey_id) AND (gs.created_by = auth.uid()))))",
        "roles": [
            "public"
        ],
        "table": "global_survey_submissions",
        "policy": "Managers view global survey submissions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(auth.role() = 'authenticated'::text)",
        "roles": [
            "public"
        ],
        "table": "touring_tasks",
        "policy": "Touring tasks viewable by authenticated users",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "public"
        ],
        "table": "touring_tasks",
        "policy": "Touring tasks manageable by admin/manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(auth.role() = 'authenticated'::text)",
        "roles": [
            "public"
        ],
        "table": "touring_task_assignments",
        "policy": "Touring task assignments viewable by authenticated users",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "public"
        ],
        "table": "touring_task_assignments",
        "policy": "Touring task assignments manageable by admin/manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "((bucket_id = 'task-evidence'::text) AND (auth.role() = 'authenticated'::text))",
        "roles": [
            "public"
        ],
        "table": "objects",
        "policy": "Authenticated read access for\n  task-evidence",
        "schema": "storage",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text])))))",
        "roles": [
            "public"
        ],
        "table": "campaign_settings",
        "policy": "Campaign settings manageable by admin/manager",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(auth.uid() = user_id)",
        "roles": [
            "public"
        ],
        "table": "report_exports",
        "policy": "Users can view their own report exports",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "public"
        ],
        "table": "report_exports",
        "policy": "Users can create their own report exports",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(auth.uid() = user_id)"
    },
    {
        "cmd": "UPDATE",
        "qual": "((EXISTS ( SELECT 1\n   FROM user_groups ug\n  WHERE ((ug.user_id = auth.uid()) AND (ug.group_id IN ( SELECT ug2.group_id\n           FROM user_groups ug2\n          WHERE (ug2.user_id = evidence.uploader_id))) AND (EXISTS ( SELECT 1\n           FROM profiles p\n          WHERE ((p.id = auth.uid()) AND (p.role = ANY (ARRAY['admin'::text, 'manager'::text])))))))) OR (EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = auth.uid()) AND (p.role = 'admin'::text)))))",
        "roles": [
            "public"
        ],
        "table": "evidence",
        "policy": "Managers can update evidence status for their group agents",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))",
        "roles": [
            "public"
        ],
        "table": "app_versions",
        "policy": "Only admins can manage app versions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "places",
        "policy": "places_manager_admin_all",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "SELECT",
        "qual": "(((approval_status = 'approved'::text) AND (status = 'active'::text)) OR (created_by = auth.uid()))",
        "roles": [
            "authenticated"
        ],
        "table": "places",
        "policy": "places_agent_read",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "routes",
        "policy": "routes_manager_admin_all",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "ALL",
        "qual": "(EXISTS ( SELECT 1\n   FROM routes r\n  WHERE ((r.id = route_places.route_id) AND (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))))",
        "roles": [
            "authenticated"
        ],
        "table": "route_places",
        "policy": "route_places_manager_admin_all",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(EXISTS ( SELECT 1\n   FROM routes r\n  WHERE ((r.id = route_places.route_id) AND (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))))"
    },
    {
        "cmd": "ALL",
        "qual": "(get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))",
        "roles": [
            "authenticated"
        ],
        "table": "route_assignments",
        "policy": "route_assignments_manager_admin_all",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text]))"
    },
    {
        "cmd": "SELECT",
        "qual": "((EXISTS ( SELECT 1\n   FROM route_assignments ra\n  WHERE ((ra.route_id = routes.id) AND (ra.agent_id = auth.uid()) AND (ra.status <> 'cancelled'::text)))) OR (get_my_role() = ANY (ARRAY['admin'::text, 'manager'::text])))",
        "roles": [
            "authenticated"
        ],
        "table": "routes",
        "policy": "routes_agent_read",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))",
        "roles": [
            "public"
        ],
        "table": "report_exports",
        "policy": "Admins can view all report exports",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(EXISTS ( SELECT 1\n   FROM global_surveys gs\n  WHERE ((gs.id = global_survey_agents.survey_id) AND (gs.created_by = auth.uid()))))",
        "roles": [
            "public"
        ],
        "table": "global_survey_agents",
        "policy": "Managers can manage survey agent assignments",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(auth.uid() = agent_id)",
        "roles": [
            "public"
        ],
        "table": "touring_task_sessions",
        "policy": "Agents can access their own touring sessions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(auth.uid() = agent_id)"
    },
    {
        "cmd": "SELECT",
        "qual": "((auth.uid() = agent_id) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text]))))))",
        "roles": [
            "public"
        ],
        "table": "payments",
        "policy": "payments_select_policy",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "public"
        ],
        "table": "payments",
        "policy": "payments_insert_policy",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text])))))"
    },
    {
        "cmd": "UPDATE",
        "qual": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text])))))",
        "roles": [
            "public"
        ],
        "table": "payments",
        "policy": "payments_update_policy",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text])))))",
        "roles": [
            "public"
        ],
        "table": "touring_task_sessions",
        "policy": "Admins and managers can view all touring sessions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(agent_id = auth.uid())",
        "roles": [
            "public"
        ],
        "table": "global_survey_agents",
        "policy": "Agents can view their survey assignments",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "((auth.uid() = agent_id) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text]))))))",
        "roles": [
            "public"
        ],
        "table": "campaign_daily_participation",
        "policy": "campaign_daily_participation_select_policy",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "public"
        ],
        "table": "campaign_daily_participation",
        "policy": "campaign_daily_participation_insert_policy",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "((auth.uid() = agent_id) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text]))))))"
    },
    {
        "cmd": "UPDATE",
        "qual": "((auth.uid() = agent_id) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text]))))))",
        "roles": [
            "public"
        ],
        "table": "campaign_daily_participation",
        "policy": "campaign_daily_participation_update_policy",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "UPDATE",
        "qual": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text])))))",
        "roles": [
            "public"
        ],
        "table": "touring_task_sessions",
        "policy": "Admins and managers can update touring sessions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text])))))"
    },
    {
        "cmd": "INSERT",
        "qual": null,
        "roles": [
            "public"
        ],
        "table": "touring_task_sessions",
        "policy": "System can insert touring sessions",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": "((auth.uid() = agent_id) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::text, 'manager'::text]))))))"
    },
    {
        "cmd": "ALL",
        "qual": "(EXISTS ( SELECT 1\n   FROM global_surveys gs\n  WHERE ((gs.id = global_survey_clients.survey_id) AND (gs.created_by = auth.uid()))))",
        "roles": [
            "public"
        ],
        "table": "global_survey_clients",
        "policy": "Managers can manage survey client assignments",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(client_id = auth.uid())",
        "roles": [
            "public"
        ],
        "table": "global_survey_clients",
        "policy": "Clients can view their survey assignments",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM (touring_tasks tt\n     JOIN campaigns c ON ((tt.campaign_id = c.id)))\n  WHERE ((tt.id = touring_task_surveys.touring_task_id) AND (c.created_by = auth.uid()))))",
        "roles": [
            "public"
        ],
        "table": "touring_task_surveys",
        "policy": "Managers can view touring task surveys",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "ALL",
        "qual": "(EXISTS ( SELECT 1\n   FROM (touring_tasks tt\n     JOIN campaigns c ON ((tt.campaign_id = c.id)))\n  WHERE ((tt.id = touring_task_surveys.touring_task_id) AND (c.created_by = auth.uid()))))",
        "roles": [
            "public"
        ],
        "table": "touring_task_surveys",
        "policy": "Managers can manage touring task surveys",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(EXISTS ( SELECT 1\n   FROM ((touring_tasks tt\n     JOIN campaigns c ON ((tt.campaign_id = c.id)))\n     JOIN campaign_agents ca ON ((c.id = ca.campaign_id)))\n  WHERE ((tt.id = touring_task_surveys.touring_task_id) AND (ca.agent_id = auth.uid()))))",
        "roles": [
            "public"
        ],
        "table": "touring_task_surveys",
        "policy": "Agents can view touring task surveys",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    },
    {
        "cmd": "SELECT",
        "qual": "(campaign_id IN ( SELECT campaigns.id\n   FROM campaigns\n  WHERE (campaigns.client_id = auth.uid())))",
        "roles": [
            "authenticated"
        ],
        "table": "tasks",
        "policy": "Clients can view campaign tasks",
        "schema": "public",
        "permissive": "PERMISSIVE",
        "with_check": null
    }
] |
